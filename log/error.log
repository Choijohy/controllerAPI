ERROR     Exception in ASGI application
 
 2023-07-27 13:42:17 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x1014a3ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x101285790>
           └ <SpawnProcess name='SpawnProcess-1' parent=16936 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x101282dc0>
    └ <SpawnProcess name='SpawnProcess-1' parent=16936 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1014c7fa0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=16936 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=16936 started>
    │    └ <function subprocess_started at 0x102a17700>
    └ <SpawnProcess name='SpawnProcess-1' parent=16936 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1014c7fd0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x102a11c10>
           │       │   └ <uvicorn.server.Server object at 0x1014c7fd0>
           │       └ <function run at 0x1014d78b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x10472dec0>
           │    └ <function BaseEventLoop.run_until_complete at 0x101a479d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x101a47940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x101a4b4c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x1019a7160>
    └ <Handle <TaskWakeupMethWrapper object at 0x1049844f0>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x1049844f0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x1049844f0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x1049844f0>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f8a6d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x104962af0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x104962af0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x104901850>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f8a6d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x104962af0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x104962af0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x104962af0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x104962af0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x104936cd0>
          └ <fastapi.applications.FastAPI object at 0x104901850>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1048cf9d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x104962af0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x104936c70>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x104936cd0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 109, in __call__
    await response(scope, receive, send)
          │        │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1048cf9d0>
          │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x104962af0>>
          │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <starlette.responses.Response object at 0x1049432e0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/responses.py", line 174, in __call__
    await self.background()
          │    └ <starlette.background.BackgroundTask object at 0x104943790>
          └ <starlette.responses.Response object at 0x1049432e0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/background.py", line 28, in __call__
    await run_in_threadpool(self.func, *self.args, **self.kwargs)
          │                 │    │      │    │       │    └ {}
          │                 │    │      │    │       └ <starlette.background.BackgroundTask object at 0x104943790>
          │                 │    │      │    └ (b'------WebKitFormBoundaryhYdnSmTPsohR2oFv\r\nContent-Disposition: form-data; name="file"; filename="tree.jpeg"\r\nContent-T...
          │                 │    │      └ <starlette.background.BackgroundTask object at 0x104943790>
          │                 │    └ <function log_info at 0x104904dc0>
          │                 └ <starlette.background.BackgroundTask object at 0x104943790>
          └ <function run_in_threadpool at 0x1023d1670>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ (b'------WebKitFormBoundaryhYdnSmTPsohR2oFv\r\nContent-Disposition: form-data; name="file"; filename="tree.jpeg"\r\nContent-T...
                 │     │         │        └ <function log_info at 0x104904dc0>
                 │     │         └ <function run_sync at 0x1023e8550>
                 │     └ <module 'anyio.to_thread' from '/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/to_thre...
                 └ <module 'anyio' from '/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x1023dfee0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=UnicodeDecodeError('utf-8', b'------WebKitFormBoundaryhYdnSmTPsohR2oFv\r\nContent-Disposition: for...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ (b'------WebKitFormBoundaryhYdnSmTPsohR2oFv\r\nContent-Disposition: form-data; name="file"; filename="tree.jpeg"\r\nContent-T...
             │       │   └ <function log_info at 0x104904dc0>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x10493d540>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 27, in log_info
    req_body = req_body.decode('utf-8')
               │        └ <method 'decode' of 'bytes' objects>
               └ b'------WebKitFormBoundaryhYdnSmTPsohR2oFv\r\nContent-Disposition: form-data; name="file"; filename="tree.jpeg"\r\nContent-Ty...

UnicodeDecodeError: 'utf-8' codec can't decode byte 0xff in position 137: invalid start byte
ERROR     Exception in ASGI application
 
 2023-07-27 13:42:17 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x1014a3ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x101285790>
           └ <SpawnProcess name='SpawnProcess-1' parent=16936 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x101282dc0>
    └ <SpawnProcess name='SpawnProcess-1' parent=16936 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1014c7fa0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=16936 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=16936 started>
    │    └ <function subprocess_started at 0x102a17700>
    └ <SpawnProcess name='SpawnProcess-1' parent=16936 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1014c7fd0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x102a11c10>
           │       │   └ <uvicorn.server.Server object at 0x1014c7fd0>
           │       └ <function run at 0x1014d78b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x10472dec0>
           │    └ <function BaseEventLoop.run_until_complete at 0x101a479d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x101a47940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x101a4b4c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x1019a7160>
    └ <Handle <TaskWakeupMethWrapper object at 0x1049844f0>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x1049844f0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x1049844f0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x1049844f0>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f8a6d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x104962af0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x104962af0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x104901850>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f8a6d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x104962af0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x104962af0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x104962af0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x104962af0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x104936cd0>
          └ <fastapi.applications.FastAPI object at 0x104901850>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1048cf9d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x104962af0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x104936c70>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x104936cd0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 109, in __call__
    await response(scope, receive, send)
          │        │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1048cf9d0>
          │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x104962af0>>
          │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <starlette.responses.Response object at 0x1049432e0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/responses.py", line 174, in __call__
    await self.background()
          │    └ <starlette.background.BackgroundTask object at 0x104943790>
          └ <starlette.responses.Response object at 0x1049432e0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/background.py", line 28, in __call__
    await run_in_threadpool(self.func, *self.args, **self.kwargs)
          │                 │    │      │    │       │    └ {}
          │                 │    │      │    │       └ <starlette.background.BackgroundTask object at 0x104943790>
          │                 │    │      │    └ (b'------WebKitFormBoundaryhYdnSmTPsohR2oFv\r\nContent-Disposition: form-data; name="file"; filename="tree.jpeg"\r\nContent-T...
          │                 │    │      └ <starlette.background.BackgroundTask object at 0x104943790>
          │                 │    └ <function log_info at 0x104904dc0>
          │                 └ <starlette.background.BackgroundTask object at 0x104943790>
          └ <function run_in_threadpool at 0x1023d1670>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ (b'------WebKitFormBoundaryhYdnSmTPsohR2oFv\r\nContent-Disposition: form-data; name="file"; filename="tree.jpeg"\r\nContent-T...
                 │     │         │        └ <function log_info at 0x104904dc0>
                 │     │         └ <function run_sync at 0x1023e8550>
                 │     └ <module 'anyio.to_thread' from '/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/to_thre...
                 └ <module 'anyio' from '/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x1023dfee0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=UnicodeDecodeError('utf-8', b'------WebKitFormBoundaryhYdnSmTPsohR2oFv\r\nContent-Disposition: for...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ (b'------WebKitFormBoundaryhYdnSmTPsohR2oFv\r\nContent-Disposition: form-data; name="file"; filename="tree.jpeg"\r\nContent-T...
             │       │   └ <function log_info at 0x104904dc0>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x10493d540>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 27, in log_info
    req_body = req_body.decode('utf-8')
               │        └ <method 'decode' of 'bytes' objects>
               └ b'------WebKitFormBoundaryhYdnSmTPsohR2oFv\r\nContent-Disposition: form-data; name="file"; filename="tree.jpeg"\r\nContent-Ty...

UnicodeDecodeError: 'utf-8' codec can't decode byte 0xff in position 137: invalid start byte
ERROR     Exception in ASGI application
 
 2023-07-27 13:49:40 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x101623ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x101405790>
           └ <SpawnProcess name='SpawnProcess-2' parent=16936 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x101402dc0>
    └ <SpawnProcess name='SpawnProcess-2' parent=16936 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x101647fa0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=16936 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=16936 started>
    │    └ <function subprocess_started at 0x102b6f790>
    └ <SpawnProcess name='SpawnProcess-2' parent=16936 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x101647a60>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x102b69ca0>
           │       │   └ <uvicorn.server.Server object at 0x101647a60>
           │       └ <function run at 0x101657940>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x104885bc0>
           │    └ <function BaseEventLoop.run_until_complete at 0x1018bba60>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1018bb9d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1018be550>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x1018431f0>
    └ <Handle <TaskWakeupMethWrapper object at 0x104adb400>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x104adb400>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x104adb400>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x104adb400>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1030e26d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x104a9ad00>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x104a9ad00>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x104945f40>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1030e26d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x104a9ad00>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x104a9ad00>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x104a9ad00>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x104a9ad00>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x104a8dd90>
          └ <fastapi.applications.FastAPI object at 0x104945f40>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x104a90310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x104a9ad00>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x104a8dd00>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x104a8dd90>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 109, in __call__
    await response(scope, receive, send)
          │        │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x104a90310>
          │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x104a9ad00>>
          │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <starlette.responses.Response object at 0x104aaf970>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/responses.py", line 174, in __call__
    await self.background()
          │    └ <starlette.background.BackgroundTask object at 0x104abc910>
          └ <starlette.responses.Response object at 0x104aaf970>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/background.py", line 28, in __call__
    await run_in_threadpool(self.func, *self.args, **self.kwargs)
          │                 │    │      │    │       │    └ {}
          │                 │    │      │    │       └ <starlette.background.BackgroundTask object at 0x104abc910>
          │                 │    │      │    └ (b'------WebKitFormBoundaryZ0lp93ItcW05ddzp\r\nContent-Disposition: form-data; name="file"; filename="tree.jpeg"\r\nContent-T...
          │                 │    │      └ <starlette.background.BackgroundTask object at 0x104abc910>
          │                 │    └ <function log_info at 0x104a5ce50>
          │                 └ <starlette.background.BackgroundTask object at 0x104abc910>
          └ <function run_in_threadpool at 0x102529700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ (b'------WebKitFormBoundaryZ0lp93ItcW05ddzp\r\nContent-Disposition: form-data; name="file"; filename="tree.jpeg"\r\nContent-T...
                 │     │         │        └ <function log_info at 0x104a5ce50>
                 │     │         └ <function run_sync at 0x1025405e0>
                 │     └ <module 'anyio.to_thread' from '/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/to_thre...
                 └ <module 'anyio' from '/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x102537f70>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=TypeError('can only concatenate str (not "bytes") to str')>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ (b'------WebKitFormBoundaryZ0lp93ItcW05ddzp\r\nContent-Disposition: form-data; name="file"; filename="tree.jpeg"\r\nContent-T...
             │       │   └ <function log_info at 0x104a5ce50>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x104aee300>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 35, in log_info
    logging.info("req: "+req_body+" ,res: "+res_body)
    │       │            │                  └ '{"filename":"tree.jpeg","path":"/Users/jiheechoi/Desktop/FastAPI_SQL/planner/files","type":"image/jpeg"}'
    │       │            └ b'------WebKitFormBoundaryZ0lp93ItcW05ddzp\r\nContent-Disposition: form-data; name="file"; filename="tree.jpeg"\r\nContent-Ty...
    │       └ <function info at 0x10170a820>
    └ <module 'logging' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...

TypeError: can only concatenate str (not "bytes") to str
ERROR     Exception in ASGI application
 
 2023-07-27 13:49:41 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x101623ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x101405790>
           └ <SpawnProcess name='SpawnProcess-2' parent=16936 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x101402dc0>
    └ <SpawnProcess name='SpawnProcess-2' parent=16936 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x101647fa0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=16936 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=16936 started>
    │    └ <function subprocess_started at 0x102b6f790>
    └ <SpawnProcess name='SpawnProcess-2' parent=16936 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x101647a60>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x102b69ca0>
           │       │   └ <uvicorn.server.Server object at 0x101647a60>
           │       └ <function run at 0x101657940>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x104885bc0>
           │    └ <function BaseEventLoop.run_until_complete at 0x1018bba60>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1018bb9d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1018be550>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x1018431f0>
    └ <Handle <TaskWakeupMethWrapper object at 0x104adb400>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x104adb400>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x104adb400>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x104adb400>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1030e26d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x104a9ad00>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x104a9ad00>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x104945f40>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1030e26d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x104a9ad00>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x104a9ad00>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x104a9ad00>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x104a9ad00>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x104a8dd90>
          └ <fastapi.applications.FastAPI object at 0x104945f40>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x104a90310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x104a9ad00>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x104a8dd00>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x104a8dd90>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 109, in __call__
    await response(scope, receive, send)
          │        │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x104a90310>
          │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x104a9ad00>>
          │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <starlette.responses.Response object at 0x104aaf970>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/responses.py", line 174, in __call__
    await self.background()
          │    └ <starlette.background.BackgroundTask object at 0x104abc910>
          └ <starlette.responses.Response object at 0x104aaf970>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/background.py", line 28, in __call__
    await run_in_threadpool(self.func, *self.args, **self.kwargs)
          │                 │    │      │    │       │    └ {}
          │                 │    │      │    │       └ <starlette.background.BackgroundTask object at 0x104abc910>
          │                 │    │      │    └ (b'------WebKitFormBoundaryZ0lp93ItcW05ddzp\r\nContent-Disposition: form-data; name="file"; filename="tree.jpeg"\r\nContent-T...
          │                 │    │      └ <starlette.background.BackgroundTask object at 0x104abc910>
          │                 │    └ <function log_info at 0x104a5ce50>
          │                 └ <starlette.background.BackgroundTask object at 0x104abc910>
          └ <function run_in_threadpool at 0x102529700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ (b'------WebKitFormBoundaryZ0lp93ItcW05ddzp\r\nContent-Disposition: form-data; name="file"; filename="tree.jpeg"\r\nContent-T...
                 │     │         │        └ <function log_info at 0x104a5ce50>
                 │     │         └ <function run_sync at 0x1025405e0>
                 │     └ <module 'anyio.to_thread' from '/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/to_thre...
                 └ <module 'anyio' from '/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x102537f70>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=TypeError('can only concatenate str (not "bytes") to str')>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ (b'------WebKitFormBoundaryZ0lp93ItcW05ddzp\r\nContent-Disposition: form-data; name="file"; filename="tree.jpeg"\r\nContent-T...
             │       │   └ <function log_info at 0x104a5ce50>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x104aee300>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 35, in log_info
    logging.info("req: "+req_body+" ,res: "+res_body)
    │       │            │                  └ '{"filename":"tree.jpeg","path":"/Users/jiheechoi/Desktop/FastAPI_SQL/planner/files","type":"image/jpeg"}'
    │       │            └ b'------WebKitFormBoundaryZ0lp93ItcW05ddzp\r\nContent-Disposition: form-data; name="file"; filename="tree.jpeg"\r\nContent-Ty...
    │       └ <function info at 0x10170a820>
    └ <module 'logging' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...

TypeError: can only concatenate str (not "bytes") to str
ERROR     Exception in ASGI application
 
 2023-07-27 13:50:57 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x104b37ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104909790>
           └ <SpawnProcess name='SpawnProcess-3' parent=16936 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104906dc0>
    └ <SpawnProcess name='SpawnProcess-3' parent=16936 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104b5bfa0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=16936 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=16936 started>
    │    └ <function subprocess_started at 0x106abb700>
    └ <SpawnProcess name='SpawnProcess-3' parent=16936 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104b5ba60>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x106ab5c10>
           │       │   └ <uvicorn.server.Server object at 0x104b5ba60>
           │       └ <function run at 0x104b6b8b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1089d5940>
           │    └ <function BaseEventLoop.run_until_complete at 0x1051179d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x105117940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10511b4c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x104d7f160>
    └ <Handle <TaskWakeupMethWrapper object at 0x108d19ee0>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x108d19ee0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x108d19ee0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x108d19ee0>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1071466d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108d2a820>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108d2a820>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x108a95f40>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1071466d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108d2a820>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108d2a820>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108d2a820>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108d2a820>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x108d19d90>
          └ <fastapi.applications.FastAPI object at 0x108a95f40>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x108b779d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108d2a820>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x108d19d00>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x108d19d90>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 109, in __call__
    await response(scope, receive, send)
          │        │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x108b779d0>
          │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108d2a820>>
          │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <starlette.responses.Response object at 0x108d3b730>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/responses.py", line 174, in __call__
    await self.background()
          │    └ <starlette.background.BackgroundTask object at 0x108d486d0>
          └ <starlette.responses.Response object at 0x108d3b730>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/background.py", line 28, in __call__
    await run_in_threadpool(self.func, *self.args, **self.kwargs)
          │                 │    │      │    │       │    └ {}
          │                 │    │      │    │       └ <starlette.background.BackgroundTask object at 0x108d486d0>
          │                 │    │      │    └ (b'{ \n  "id" : 1,\n  "title" : "FastAPI Book Launch",\n  "image" : "https:linktomyimage.com/image.png",\n  "description" : "...
          │                 │    │      └ <starlette.background.BackgroundTask object at 0x108d486d0>
          │                 │    └ <function log_info at 0x108bacdc0>
          │                 └ <starlette.background.BackgroundTask object at 0x108d486d0>
          └ <function run_in_threadpool at 0x10645d670>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ (b'{ \n  "id" : 1,\n  "title" : "FastAPI Book Launch",\n  "image" : "https:linktomyimage.com/image.png",\n  "description" : "...
                 │     │         │        └ <function log_info at 0x108bacdc0>
                 │     │         └ <function run_sync at 0x106474550>
                 │     └ <module 'anyio.to_thread' from '/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/to_thre...
                 └ <module 'anyio' from '/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x10646bee0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=TypeError('can only concatenate str (not "bytes") to str')>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ (b'{ \n  "id" : 1,\n  "title" : "FastAPI Book Launch",\n  "image" : "https:linktomyimage.com/image.png",\n  "description" : "...
             │       │   └ <function log_info at 0x108bacdc0>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x108d1ac40>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 35, in log_info
    logging.info("req: "+req_body+" ,res: "+res_body)
    │       │            │                  └ 'Image bytes data'
    │       │            └ b'{ \n  "id" : 1,\n  "title" : "FastAPI Book Launch",\n  "image" : "https:linktomyimage.com/image.png",\n  "description" : "W...
    │       └ <function info at 0x104c46790>
    └ <module 'logging' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...

TypeError: can only concatenate str (not "bytes") to str
ERROR     Exception in ASGI application
 
 2023-07-27 13:50:57 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x104b37ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104909790>
           └ <SpawnProcess name='SpawnProcess-3' parent=16936 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104906dc0>
    └ <SpawnProcess name='SpawnProcess-3' parent=16936 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104b5bfa0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=16936 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=16936 started>
    │    └ <function subprocess_started at 0x106abb700>
    └ <SpawnProcess name='SpawnProcess-3' parent=16936 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104b5ba60>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x106ab5c10>
           │       │   └ <uvicorn.server.Server object at 0x104b5ba60>
           │       └ <function run at 0x104b6b8b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1089d5940>
           │    └ <function BaseEventLoop.run_until_complete at 0x1051179d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x105117940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10511b4c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x104d7f160>
    └ <Handle <TaskWakeupMethWrapper object at 0x108d19ee0>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x108d19ee0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x108d19ee0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x108d19ee0>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1071466d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108d2a820>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108d2a820>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x108a95f40>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1071466d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108d2a820>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108d2a820>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108d2a820>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108d2a820>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x108d19d90>
          └ <fastapi.applications.FastAPI object at 0x108a95f40>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x108b779d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108d2a820>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x108d19d00>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x108d19d90>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 109, in __call__
    await response(scope, receive, send)
          │        │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x108b779d0>
          │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108d2a820>>
          │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <starlette.responses.Response object at 0x108d3b730>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/responses.py", line 174, in __call__
    await self.background()
          │    └ <starlette.background.BackgroundTask object at 0x108d486d0>
          └ <starlette.responses.Response object at 0x108d3b730>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/background.py", line 28, in __call__
    await run_in_threadpool(self.func, *self.args, **self.kwargs)
          │                 │    │      │    │       │    └ {}
          │                 │    │      │    │       └ <starlette.background.BackgroundTask object at 0x108d486d0>
          │                 │    │      │    └ (b'{ \n  "id" : 1,\n  "title" : "FastAPI Book Launch",\n  "image" : "https:linktomyimage.com/image.png",\n  "description" : "...
          │                 │    │      └ <starlette.background.BackgroundTask object at 0x108d486d0>
          │                 │    └ <function log_info at 0x108bacdc0>
          │                 └ <starlette.background.BackgroundTask object at 0x108d486d0>
          └ <function run_in_threadpool at 0x10645d670>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ (b'{ \n  "id" : 1,\n  "title" : "FastAPI Book Launch",\n  "image" : "https:linktomyimage.com/image.png",\n  "description" : "...
                 │     │         │        └ <function log_info at 0x108bacdc0>
                 │     │         └ <function run_sync at 0x106474550>
                 │     └ <module 'anyio.to_thread' from '/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/to_thre...
                 └ <module 'anyio' from '/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x10646bee0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=TypeError('can only concatenate str (not "bytes") to str')>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ (b'{ \n  "id" : 1,\n  "title" : "FastAPI Book Launch",\n  "image" : "https:linktomyimage.com/image.png",\n  "description" : "...
             │       │   └ <function log_info at 0x108bacdc0>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x108d1ac40>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 35, in log_info
    logging.info("req: "+req_body+" ,res: "+res_body)
    │       │            │                  └ 'Image bytes data'
    │       │            └ b'{ \n  "id" : 1,\n  "title" : "FastAPI Book Launch",\n  "image" : "https:linktomyimage.com/image.png",\n  "description" : "W...
    │       └ <function info at 0x104c46790>
    └ <module 'logging' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...

TypeError: can only concatenate str (not "bytes") to str
ERROR     Exception in ASGI application
 
 2023-07-27 13:51:27 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x102c97ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1029c5790>
           └ <SpawnProcess name='SpawnProcess-4' parent=16936 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1029c2dc0>
    └ <SpawnProcess name='SpawnProcess-4' parent=16936 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x102cb83a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-4' parent=16936 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-4' parent=16936 started>
    │    └ <function subprocess_started at 0x1042fb700>
    └ <SpawnProcess name='SpawnProcess-4' parent=16936 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x102cb83d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x1042f5c10>
           │       │   └ <uvicorn.server.Server object at 0x102cb83d0>
           │       └ <function run at 0x102ccb8b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x106529ec0>
           │    └ <function BaseEventLoop.run_until_complete at 0x102f439d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x102f43940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x102f474c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x102ecb160>
    └ <Handle <TaskWakeupMethWrapper object at 0x106d473d0>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x106d473d0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x106d473d0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x106d473d0>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10486e700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x106d338b0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x106d338b0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1065e9f70>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10486e700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x106d338b0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x106d338b0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x106d338b0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x106d338b0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x106d24e20>
          └ <fastapi.applications.FastAPI object at 0x1065e9f70>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x106d28280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x106d338b0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x106d24d90>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x106d24e20>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 109, in __call__
    await response(scope, receive, send)
          │        │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x106d28280>
          │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x106d338b0>>
          │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <starlette.responses.Response object at 0x106d47790>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/responses.py", line 174, in __call__
    await self.background()
          │    └ <starlette.background.BackgroundTask object at 0x106d55730>
          └ <starlette.responses.Response object at 0x106d47790>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/background.py", line 28, in __call__
    await run_in_threadpool(self.func, *self.args, **self.kwargs)
          │                 │    │      │    │       │    └ {}
          │                 │    │      │    │       └ <starlette.background.BackgroundTask object at 0x106d55730>
          │                 │    │      │    └ (b'{ \n  "id" : 1,\n  "title" : "FastAPI Book Launch",\n  "image" : "https:linktomyimage.com/image.png",\n  "description" : "...
          │                 │    │      └ <starlette.background.BackgroundTask object at 0x106d55730>
          │                 │    └ <function log_info at 0x106654dc0>
          │                 └ <starlette.background.BackgroundTask object at 0x106d55730>
          └ <function run_in_threadpool at 0x103cb5670>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ (b'{ \n  "id" : 1,\n  "title" : "FastAPI Book Launch",\n  "image" : "https:linktomyimage.com/image.png",\n  "description" : "...
                 │     │         │        └ <function log_info at 0x106654dc0>
                 │     │         └ <function run_sync at 0x103ccc550>
                 │     └ <module 'anyio.to_thread' from '/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/to_thre...
                 └ <module 'anyio' from '/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x103cc3ee0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=NameError("name 'loggin' is not defined")>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ (b'{ \n  "id" : 1,\n  "title" : "FastAPI Book Launch",\n  "image" : "https:linktomyimage.com/image.png",\n  "description" : "...
             │       │   └ <function log_info at 0x106654dc0>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x106d2e8c0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 36, in log_info
    loggin.info(req_body,res_body)
                │        └ b'[{"typeId":1,"content":"new!!","source":"google.com","source_detail":"","corpusId":1}]'
                └ b'{ \n  "id" : 1,\n  "title" : "FastAPI Book Launch",\n  "image" : "https:linktomyimage.com/image.png",\n  "description" : "W...

NameError: name 'loggin' is not defined
ERROR     Exception in ASGI application
 
 2023-07-27 13:51:27 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x102c97ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1029c5790>
           └ <SpawnProcess name='SpawnProcess-4' parent=16936 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1029c2dc0>
    └ <SpawnProcess name='SpawnProcess-4' parent=16936 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x102cb83a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-4' parent=16936 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-4' parent=16936 started>
    │    └ <function subprocess_started at 0x1042fb700>
    └ <SpawnProcess name='SpawnProcess-4' parent=16936 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x102cb83d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x1042f5c10>
           │       │   └ <uvicorn.server.Server object at 0x102cb83d0>
           │       └ <function run at 0x102ccb8b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x106529ec0>
           │    └ <function BaseEventLoop.run_until_complete at 0x102f439d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x102f43940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x102f474c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x102ecb160>
    └ <Handle <TaskWakeupMethWrapper object at 0x106d473d0>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x106d473d0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x106d473d0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x106d473d0>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10486e700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x106d338b0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x106d338b0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1065e9f70>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10486e700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x106d338b0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x106d338b0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x106d338b0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x106d338b0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x106d24e20>
          └ <fastapi.applications.FastAPI object at 0x1065e9f70>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x106d28280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x106d338b0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x106d24d90>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x106d24e20>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 109, in __call__
    await response(scope, receive, send)
          │        │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x106d28280>
          │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x106d338b0>>
          │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <starlette.responses.Response object at 0x106d47790>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/responses.py", line 174, in __call__
    await self.background()
          │    └ <starlette.background.BackgroundTask object at 0x106d55730>
          └ <starlette.responses.Response object at 0x106d47790>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/background.py", line 28, in __call__
    await run_in_threadpool(self.func, *self.args, **self.kwargs)
          │                 │    │      │    │       │    └ {}
          │                 │    │      │    │       └ <starlette.background.BackgroundTask object at 0x106d55730>
          │                 │    │      │    └ (b'{ \n  "id" : 1,\n  "title" : "FastAPI Book Launch",\n  "image" : "https:linktomyimage.com/image.png",\n  "description" : "...
          │                 │    │      └ <starlette.background.BackgroundTask object at 0x106d55730>
          │                 │    └ <function log_info at 0x106654dc0>
          │                 └ <starlette.background.BackgroundTask object at 0x106d55730>
          └ <function run_in_threadpool at 0x103cb5670>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ (b'{ \n  "id" : 1,\n  "title" : "FastAPI Book Launch",\n  "image" : "https:linktomyimage.com/image.png",\n  "description" : "...
                 │     │         │        └ <function log_info at 0x106654dc0>
                 │     │         └ <function run_sync at 0x103ccc550>
                 │     └ <module 'anyio.to_thread' from '/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/to_thre...
                 └ <module 'anyio' from '/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x103cc3ee0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=NameError("name 'loggin' is not defined")>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ (b'{ \n  "id" : 1,\n  "title" : "FastAPI Book Launch",\n  "image" : "https:linktomyimage.com/image.png",\n  "description" : "...
             │       │   └ <function log_info at 0x106654dc0>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x106d2e8c0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 36, in log_info
    loggin.info(req_body,res_body)
                │        └ b'[{"typeId":1,"content":"new!!","source":"google.com","source_detail":"","corpusId":1}]'
                └ b'{ \n  "id" : 1,\n  "title" : "FastAPI Book Launch",\n  "image" : "https:linktomyimage.com/image.png",\n  "description" : "W...

NameError: name 'loggin' is not defined
ERROR     Exception in ASGI application
 
 2023-07-27 13:51:33 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x102be7ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1029b9790>
           └ <SpawnProcess name='SpawnProcess-5' parent=16936 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1029b6dc0>
    └ <SpawnProcess name='SpawnProcess-5' parent=16936 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x102c083a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-5' parent=16936 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-5' parent=16936 started>
    │    └ <function subprocess_started at 0x10416b700>
    └ <SpawnProcess name='SpawnProcess-5' parent=16936 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x102c083d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x104165c10>
           │       │   └ <uvicorn.server.Server object at 0x102c083d0>
           │       └ <function run at 0x102c1b8b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x105e81ec0>
           │    └ <function BaseEventLoop.run_until_complete at 0x1031af9d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1031af940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1031b34c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x103137160>
    └ <Handle <TaskWakeupMethWrapper object at 0x106088c40>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x106088c40>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x106088c40>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x106088c40>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1046de700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1060978b0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1060978b0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x105f41f70>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1046de700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1060978b0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1060978b0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1060978b0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1060978b0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x106088e20>
          └ <fastapi.applications.FastAPI object at 0x105f41f70>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10608c280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1060978b0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x106088d90>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x106088e20>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 109, in __call__
    await response(scope, receive, send)
          │        │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10608c280>
          │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1060978b0>>
          │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <starlette.responses.Response object at 0x1060ab790>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/responses.py", line 174, in __call__
    await self.background()
          │    └ <starlette.background.BackgroundTask object at 0x1060b9730>
          └ <starlette.responses.Response object at 0x1060ab790>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/background.py", line 28, in __call__
    await run_in_threadpool(self.func, *self.args, **self.kwargs)
          │                 │    │      │    │       │    └ {}
          │                 │    │      │    │       └ <starlette.background.BackgroundTask object at 0x1060b9730>
          │                 │    │      │    └ (b'{ \n  "id" : 1,\n  "title" : "FastAPI Book Launch",\n  "image" : "https:linktomyimage.com/image.png",\n  "description" : "...
          │                 │    │      └ <starlette.background.BackgroundTask object at 0x1060b9730>
          │                 │    └ <function log_info at 0x106058dc0>
          │                 └ <starlette.background.BackgroundTask object at 0x1060b9730>
          └ <function run_in_threadpool at 0x103b25670>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ (b'{ \n  "id" : 1,\n  "title" : "FastAPI Book Launch",\n  "image" : "https:linktomyimage.com/image.png",\n  "description" : "...
                 │     │         │        └ <function log_info at 0x106058dc0>
                 │     │         └ <function run_sync at 0x103b3c550>
                 │     └ <module 'anyio.to_thread' from '/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/to_thre...
                 └ <module 'anyio' from '/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x103b33ee0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=TypeError('not all arguments converted during string formatting')>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ (b'{ \n  "id" : 1,\n  "title" : "FastAPI Book Launch",\n  "image" : "https:linktomyimage.com/image.png",\n  "description" : "...
             │       │   └ <function log_info at 0x106058dc0>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x106092f00>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 36, in log_info
    logging.info(req_body,res_body)
    │       │    │        └ b'[{"typeId":1,"content":"new!!","source":"google.com","source_detail":"","corpusId":1}]'
    │       │    └ b'{ \n  "id" : 1,\n  "title" : "FastAPI Book Launch",\n  "image" : "https:linktomyimage.com/image.png",\n  "description" : "W...
    │       └ <function info at 0x102cf6790>
    └ <module 'logging' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...

  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/logging/__init__.py", line 2097, in info
    root.info(msg, *args, **kwargs)
    │    │    │     │       └ {}
    │    │    │     └ (b'[{"typeId":1,"content":"new!!","source":"google.com","source_detail":"","corpusId":1}]',)
    │    │    └ b'{ \n  "id" : 1,\n  "title" : "FastAPI Book Launch",\n  "image" : "https:linktomyimage.com/image.png",\n  "description" : "W...
    │    └ <function Logger.info at 0x102cf3ca0>
    └ <RootLogger root (NOTSET)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/logging/__init__.py", line 1446, in info
    self._log(INFO, msg, args, **kwargs)
    │    │    │     │    │       └ {}
    │    │    │     │    └ (b'[{"typeId":1,"content":"new!!","source":"google.com","source_detail":"","corpusId":1}]',)
    │    │    │     └ b'{ \n  "id" : 1,\n  "title" : "FastAPI Book Launch",\n  "image" : "https:linktomyimage.com/image.png",\n  "description" : "W...
    │    │    └ 20
    │    └ <function Logger._log at 0x102cf51f0>
    └ <RootLogger root (NOTSET)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/logging/__init__.py", line 1589, in _log
    self.handle(record)
    │    │      └ <LogRecord: root, 20, /Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py, 36, "b'{ \n  "id" : 1,\n  "title" : "FastAPI Book...
    │    └ <function Logger.handle at 0x102cf5280>
    └ <RootLogger root (NOTSET)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/logging/__init__.py", line 1599, in handle
    self.callHandlers(record)
    │    │            └ <LogRecord: root, 20, /Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py, 36, "b'{ \n  "id" : 1,\n  "title" : "FastAPI Book...
    │    └ <function Logger.callHandlers at 0x102cf54c0>
    └ <RootLogger root (NOTSET)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/logging/__init__.py", line 1661, in callHandlers
    hdlr.handle(record)
    │    │      └ <LogRecord: root, 20, /Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py, 36, "b'{ \n  "id" : 1,\n  "title" : "FastAPI Book...
    │    └ <function Handler.handle at 0x102cf0940>
    └ <InterceptHandler (NOTSET)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/logging/__init__.py", line 952, in handle
    self.emit(record)
    │    │    └ <LogRecord: root, 20, /Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py, 36, "b'{ \n  "id" : 1,\n  "title" : "FastAPI Book...
    │    └ <function InterceptHandler.emit at 0x10420a550>
    └ <InterceptHandler (NOTSET)>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/custom_logging.py", line 36, in emit
    ).log(level,record.getMessage())
          │     │      └ <function LogRecord.getMessage at 0x102ce9f70>
          │     └ <LogRecord: root, 20, /Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py, 36, "b'{ \n  "id" : 1,\n  "title" : "FastAPI Book...
          └ 'INFO'

  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/logging/__init__.py", line 367, in getMessage
    msg = msg % self.args
          │     │    └ (b'[{"typeId":1,"content":"new!!","source":"google.com","source_detail":"","corpusId":1}]',)
          │     └ <LogRecord: root, 20, /Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py, 36, "b'{ \n  "id" : 1,\n  "title" : "FastAPI Book...
          └ 'b\'{ \\n  "id" : 1,\\n  "title" : "FastAPI Book Launch",\\n  "image" : "https:linktomyimage.com/image.png",\\n  "description...

TypeError: not all arguments converted during string formatting
ERROR     Exception in ASGI application
 
 2023-07-27 13:51:33 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x102be7ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1029b9790>
           └ <SpawnProcess name='SpawnProcess-5' parent=16936 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1029b6dc0>
    └ <SpawnProcess name='SpawnProcess-5' parent=16936 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x102c083a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-5' parent=16936 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-5' parent=16936 started>
    │    └ <function subprocess_started at 0x10416b700>
    └ <SpawnProcess name='SpawnProcess-5' parent=16936 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x102c083d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x104165c10>
           │       │   └ <uvicorn.server.Server object at 0x102c083d0>
           │       └ <function run at 0x102c1b8b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x105e81ec0>
           │    └ <function BaseEventLoop.run_until_complete at 0x1031af9d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1031af940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1031b34c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x103137160>
    └ <Handle <TaskWakeupMethWrapper object at 0x106088c40>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x106088c40>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x106088c40>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x106088c40>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1046de700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1060978b0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1060978b0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x105f41f70>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1046de700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1060978b0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1060978b0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1060978b0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1060978b0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x106088e20>
          └ <fastapi.applications.FastAPI object at 0x105f41f70>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10608c280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1060978b0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x106088d90>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x106088e20>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 109, in __call__
    await response(scope, receive, send)
          │        │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10608c280>
          │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1060978b0>>
          │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <starlette.responses.Response object at 0x1060ab790>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/responses.py", line 174, in __call__
    await self.background()
          │    └ <starlette.background.BackgroundTask object at 0x1060b9730>
          └ <starlette.responses.Response object at 0x1060ab790>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/background.py", line 28, in __call__
    await run_in_threadpool(self.func, *self.args, **self.kwargs)
          │                 │    │      │    │       │    └ {}
          │                 │    │      │    │       └ <starlette.background.BackgroundTask object at 0x1060b9730>
          │                 │    │      │    └ (b'{ \n  "id" : 1,\n  "title" : "FastAPI Book Launch",\n  "image" : "https:linktomyimage.com/image.png",\n  "description" : "...
          │                 │    │      └ <starlette.background.BackgroundTask object at 0x1060b9730>
          │                 │    └ <function log_info at 0x106058dc0>
          │                 └ <starlette.background.BackgroundTask object at 0x1060b9730>
          └ <function run_in_threadpool at 0x103b25670>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ (b'{ \n  "id" : 1,\n  "title" : "FastAPI Book Launch",\n  "image" : "https:linktomyimage.com/image.png",\n  "description" : "...
                 │     │         │        └ <function log_info at 0x106058dc0>
                 │     │         └ <function run_sync at 0x103b3c550>
                 │     └ <module 'anyio.to_thread' from '/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/to_thre...
                 └ <module 'anyio' from '/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x103b33ee0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=TypeError('not all arguments converted during string formatting')>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ (b'{ \n  "id" : 1,\n  "title" : "FastAPI Book Launch",\n  "image" : "https:linktomyimage.com/image.png",\n  "description" : "...
             │       │   └ <function log_info at 0x106058dc0>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x106092f00>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 36, in log_info
    logging.info(req_body,res_body)
    │       │    │        └ b'[{"typeId":1,"content":"new!!","source":"google.com","source_detail":"","corpusId":1}]'
    │       │    └ b'{ \n  "id" : 1,\n  "title" : "FastAPI Book Launch",\n  "image" : "https:linktomyimage.com/image.png",\n  "description" : "W...
    │       └ <function info at 0x102cf6790>
    └ <module 'logging' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...

  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/logging/__init__.py", line 2097, in info
    root.info(msg, *args, **kwargs)
    │    │    │     │       └ {}
    │    │    │     └ (b'[{"typeId":1,"content":"new!!","source":"google.com","source_detail":"","corpusId":1}]',)
    │    │    └ b'{ \n  "id" : 1,\n  "title" : "FastAPI Book Launch",\n  "image" : "https:linktomyimage.com/image.png",\n  "description" : "W...
    │    └ <function Logger.info at 0x102cf3ca0>
    └ <RootLogger root (NOTSET)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/logging/__init__.py", line 1446, in info
    self._log(INFO, msg, args, **kwargs)
    │    │    │     │    │       └ {}
    │    │    │     │    └ (b'[{"typeId":1,"content":"new!!","source":"google.com","source_detail":"","corpusId":1}]',)
    │    │    │     └ b'{ \n  "id" : 1,\n  "title" : "FastAPI Book Launch",\n  "image" : "https:linktomyimage.com/image.png",\n  "description" : "W...
    │    │    └ 20
    │    └ <function Logger._log at 0x102cf51f0>
    └ <RootLogger root (NOTSET)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/logging/__init__.py", line 1589, in _log
    self.handle(record)
    │    │      └ <LogRecord: root, 20, /Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py, 36, "b'{ \n  "id" : 1,\n  "title" : "FastAPI Book...
    │    └ <function Logger.handle at 0x102cf5280>
    └ <RootLogger root (NOTSET)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/logging/__init__.py", line 1599, in handle
    self.callHandlers(record)
    │    │            └ <LogRecord: root, 20, /Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py, 36, "b'{ \n  "id" : 1,\n  "title" : "FastAPI Book...
    │    └ <function Logger.callHandlers at 0x102cf54c0>
    └ <RootLogger root (NOTSET)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/logging/__init__.py", line 1661, in callHandlers
    hdlr.handle(record)
    │    │      └ <LogRecord: root, 20, /Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py, 36, "b'{ \n  "id" : 1,\n  "title" : "FastAPI Book...
    │    └ <function Handler.handle at 0x102cf0940>
    └ <InterceptHandler (NOTSET)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/logging/__init__.py", line 952, in handle
    self.emit(record)
    │    │    └ <LogRecord: root, 20, /Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py, 36, "b'{ \n  "id" : 1,\n  "title" : "FastAPI Book...
    │    └ <function InterceptHandler.emit at 0x10420a550>
    └ <InterceptHandler (NOTSET)>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/custom_logging.py", line 36, in emit
    ).log(level,record.getMessage())
          │     │      └ <function LogRecord.getMessage at 0x102ce9f70>
          │     └ <LogRecord: root, 20, /Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py, 36, "b'{ \n  "id" : 1,\n  "title" : "FastAPI Book...
          └ 'INFO'

  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/logging/__init__.py", line 367, in getMessage
    msg = msg % self.args
          │     │    └ (b'[{"typeId":1,"content":"new!!","source":"google.com","source_detail":"","corpusId":1}]',)
          │     └ <LogRecord: root, 20, /Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py, 36, "b'{ \n  "id" : 1,\n  "title" : "FastAPI Book...
          └ 'b\'{ \\n  "id" : 1,\\n  "title" : "FastAPI Book Launch",\\n  "image" : "https:linktomyimage.com/image.png",\\n  "description...

TypeError: not all arguments converted during string formatting
ERROR     Exception in ASGI application
 
 2023-07-27 13:53:32 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x102b5fee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102941790>
           └ <SpawnProcess name='SpawnProcess-7' parent=16936 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10293edc0>
    └ <SpawnProcess name='SpawnProcess-7' parent=16936 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x102b83fa0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-7' parent=16936 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-7' parent=16936 started>
    │    └ <function subprocess_started at 0x1040c7790>
    └ <SpawnProcess name='SpawnProcess-7' parent=16936 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x102b83a00>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x1040c1ca0>
           │       │   └ <uvicorn.server.Server object at 0x102b83a00>
           │       └ <function run at 0x102b93940>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x105ddebc0>
           │    └ <function BaseEventLoop.run_until_complete at 0x10310aa60>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10310a9d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10310e550>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x1030931f0>
    └ <Handle <TaskWakeupMethWrapper object at 0x106021f10>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x106021f10>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x106021f10>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x106021f10>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10463a700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x105ff28b0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x105ff28b0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x105e9df70>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10463a700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x105ff28b0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x105ff28b0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x105ff28b0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x105ff28b0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x105fe5eb0>
          └ <fastapi.applications.FastAPI object at 0x105e9df70>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x105fe43a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x105ff28b0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x105fe5e20>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x105fe5eb0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x105fe4430>
                     │    │             └ <starlette.requests.Request object at 0x1060060a0>
                     │    └ <function body_logging at 0x105fc00d0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x105fe5e20>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 58, in body_logging
    print(request.header())
          └ <starlette.requests.Request object at 0x1060060a0>

AttributeError: 'Request' object has no attribute 'header'
ERROR     Exception in ASGI application
 
 2023-07-27 13:53:32 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x102b5fee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102941790>
           └ <SpawnProcess name='SpawnProcess-7' parent=16936 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10293edc0>
    └ <SpawnProcess name='SpawnProcess-7' parent=16936 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x102b83fa0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-7' parent=16936 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-7' parent=16936 started>
    │    └ <function subprocess_started at 0x1040c7790>
    └ <SpawnProcess name='SpawnProcess-7' parent=16936 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x102b83a00>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x1040c1ca0>
           │       │   └ <uvicorn.server.Server object at 0x102b83a00>
           │       └ <function run at 0x102b93940>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x105ddebc0>
           │    └ <function BaseEventLoop.run_until_complete at 0x10310aa60>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10310a9d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10310e550>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x1030931f0>
    └ <Handle <TaskWakeupMethWrapper object at 0x106021f10>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x106021f10>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x106021f10>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x106021f10>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10463a700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x105ff28b0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x105ff28b0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x105e9df70>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10463a700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x105ff28b0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x105ff28b0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x105ff28b0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x105ff28b0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x105fe5eb0>
          └ <fastapi.applications.FastAPI object at 0x105e9df70>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x105fe43a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x105ff28b0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x105fe5e20>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x105fe5eb0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x105fe4430>
                     │    │             └ <starlette.requests.Request object at 0x1060060a0>
                     │    └ <function body_logging at 0x105fc00d0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x105fe5e20>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 58, in body_logging
    print(request.header())
          └ <starlette.requests.Request object at 0x1060060a0>

AttributeError: 'Request' object has no attribute 'header'
ERROR     Exception in ASGI application
 
 2023-07-27 14:12:05 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x102d5bee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102b3d790>
           └ <SpawnProcess name='SpawnProcess-19' parent=16936 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102b3adc0>
    └ <SpawnProcess name='SpawnProcess-19' parent=16936 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x102d7ffa0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-19' parent=16936 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-19' parent=16936 started>
    │    └ <function subprocess_started at 0x1042c3790>
    └ <SpawnProcess name='SpawnProcess-19' parent=16936 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x102d7f9d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x1042bdca0>
           │       │   └ <uvicorn.server.Server object at 0x102d7f9d0>
           │       └ <function run at 0x102d8f940>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x105fd9bc0>
           │    └ <function BaseEventLoop.run_until_complete at 0x103306a60>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1033069d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10330a550>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10328f1f0>
    └ <Handle <TaskWakeupMethWrapper object at 0x10622c3d0>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10622c3d0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10622c3d0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10622c3d0>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1042a4430>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1061eedf0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1061eedf0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x106099ca0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1042a4430>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1061eedf0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1061eedf0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1061eedf0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1061eedf0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1061e0eb0>
          └ <fastapi.applications.FastAPI object at 0x106099ca0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1061e13a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1061eedf0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1061e0e20>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1061e0eb0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1061e1430>
                     │    │             └ <starlette.requests.Request object at 0x106202340>
                     │    └ <function body_logging at 0x1061b70d0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1061e0e20>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 58, in body_logging
    print(req_body.decode('utf-8'))
          │        └ <method 'decode' of 'bytes' objects>
          └ b'------WebKitFormBoundary3cHWFVt5nL1tiZAn\r\nContent-Disposition: form-data; name="file"; filename="tree.jpeg"\r\nContent-Ty...

UnicodeDecodeError: 'utf-8' codec can't decode byte 0xff in position 137: invalid start byte
ERROR     Exception in ASGI application
 
 2023-07-27 14:12:05 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x102d5bee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102b3d790>
           └ <SpawnProcess name='SpawnProcess-19' parent=16936 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102b3adc0>
    └ <SpawnProcess name='SpawnProcess-19' parent=16936 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x102d7ffa0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-19' parent=16936 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-19' parent=16936 started>
    │    └ <function subprocess_started at 0x1042c3790>
    └ <SpawnProcess name='SpawnProcess-19' parent=16936 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x102d7f9d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x1042bdca0>
           │       │   └ <uvicorn.server.Server object at 0x102d7f9d0>
           │       └ <function run at 0x102d8f940>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x105fd9bc0>
           │    └ <function BaseEventLoop.run_until_complete at 0x103306a60>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1033069d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10330a550>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10328f1f0>
    └ <Handle <TaskWakeupMethWrapper object at 0x10622c3d0>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10622c3d0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10622c3d0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10622c3d0>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1042a4430>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1061eedf0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1061eedf0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x106099ca0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1042a4430>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1061eedf0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1061eedf0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1061eedf0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1061eedf0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1061e0eb0>
          └ <fastapi.applications.FastAPI object at 0x106099ca0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1061e13a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1061eedf0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1061e0e20>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1061e0eb0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1061e1430>
                     │    │             └ <starlette.requests.Request object at 0x106202340>
                     │    └ <function body_logging at 0x1061b70d0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1061e0e20>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 58, in body_logging
    print(req_body.decode('utf-8'))
          │        └ <method 'decode' of 'bytes' objects>
          └ b'------WebKitFormBoundary3cHWFVt5nL1tiZAn\r\nContent-Disposition: form-data; name="file"; filename="tree.jpeg"\r\nContent-Ty...

UnicodeDecodeError: 'utf-8' codec can't decode byte 0xff in position 137: invalid start byte
ERROR     Exception in ASGI application
 
 2023-07-27 14:12:51 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x102797ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1024bd790>
           └ <SpawnProcess name='SpawnProcess-20' parent=16936 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1024badc0>
    └ <SpawnProcess name='SpawnProcess-20' parent=16936 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1027bbfa0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-20' parent=16936 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-20' parent=16936 started>
    │    └ <function subprocess_started at 0x103d07790>
    └ <SpawnProcess name='SpawnProcess-20' parent=16936 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1027bb9d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x103d01ca0>
           │       │   └ <uvicorn.server.Server object at 0x1027bb9d0>
           │       └ <function run at 0x1027cb940>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x105a1dbc0>
           │    └ <function BaseEventLoop.run_until_complete at 0x102a43a60>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x102a439d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x102a46550>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x1029cb1f0>
    └ <Handle <TaskWakeupMethWrapper object at 0x105c713d0>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x105c713d0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x105c713d0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x105c713d0>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x103ce8430>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x105c32df0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x105c32df0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x105addca0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x103ce8430>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x105c32df0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x105c32df0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x105c32df0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x105c32df0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x105c24eb0>
          └ <fastapi.applications.FastAPI object at 0x105addca0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x105c253a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x105c32df0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x105c24e20>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x105c24eb0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x105c25430>
                     │    │             └ <starlette.requests.Request object at 0x105c46340>
                     │    └ <function body_logging at 0x105c000d0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x105c24e20>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 58, in body_logging
    print(req_body.decode('utf-16'))
          │        └ <method 'decode' of 'bytes' objects>
          └ b'------WebKitFormBoundarymAOL9HYQgf3ml1GY\r\nContent-Disposition: form-data; name="file"; filename="tree.jpeg"\r\nContent-Ty...

UnicodeDecodeError: 'utf-16-le' codec can't decode bytes in position 390-391: illegal encoding
ERROR     Exception in ASGI application
 
 2023-07-27 14:12:51 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x102797ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1024bd790>
           └ <SpawnProcess name='SpawnProcess-20' parent=16936 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1024badc0>
    └ <SpawnProcess name='SpawnProcess-20' parent=16936 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1027bbfa0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-20' parent=16936 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-20' parent=16936 started>
    │    └ <function subprocess_started at 0x103d07790>
    └ <SpawnProcess name='SpawnProcess-20' parent=16936 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1027bb9d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x103d01ca0>
           │       │   └ <uvicorn.server.Server object at 0x1027bb9d0>
           │       └ <function run at 0x1027cb940>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x105a1dbc0>
           │    └ <function BaseEventLoop.run_until_complete at 0x102a43a60>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x102a439d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x102a46550>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x1029cb1f0>
    └ <Handle <TaskWakeupMethWrapper object at 0x105c713d0>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x105c713d0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x105c713d0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x105c713d0>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x103ce8430>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x105c32df0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x105c32df0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x105addca0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x103ce8430>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x105c32df0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x105c32df0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x105c32df0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x105c32df0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x105c24eb0>
          └ <fastapi.applications.FastAPI object at 0x105addca0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x105c253a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x105c32df0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x105c24e20>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x105c24eb0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x105c25430>
                     │    │             └ <starlette.requests.Request object at 0x105c46340>
                     │    └ <function body_logging at 0x105c000d0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x105c24e20>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 58, in body_logging
    print(req_body.decode('utf-16'))
          │        └ <method 'decode' of 'bytes' objects>
          └ b'------WebKitFormBoundarymAOL9HYQgf3ml1GY\r\nContent-Disposition: form-data; name="file"; filename="tree.jpeg"\r\nContent-Ty...

UnicodeDecodeError: 'utf-16-le' codec can't decode bytes in position 390-391: illegal encoding
ERROR     Exception in ASGI application
 
 2023-07-27 14:18:25 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x10491fee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104721790>
           └ <SpawnProcess name='SpawnProcess-22' parent=16936 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10471edc0>
    └ <SpawnProcess name='SpawnProcess-22' parent=16936 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104943fa0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-22' parent=16936 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-22' parent=16936 started>
    │    └ <function subprocess_started at 0x105ea3700>
    └ <SpawnProcess name='SpawnProcess-22' parent=16936 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1049439d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x105e9dc10>
           │       │   └ <uvicorn.server.Server object at 0x1049439d0>
           │       └ <function run at 0x1049538b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x107bb8bc0>
           │    └ <function BaseEventLoop.run_until_complete at 0x104ed39d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x104ed3940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x104ed74c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x104e47160>
    └ <Handle <TaskWakeupMethWrapper object at 0x107e0c7c0>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x107e0c7c0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x107e0c7c0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x107e0c7c0>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x105e85430>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x107dcfdf0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x107dcfdf0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x107c79ca0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x105e85430>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x107dcfdf0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x107dcfdf0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x107dcfdf0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x107dcfdf0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107dc0e80>
          └ <fastapi.applications.FastAPI object at 0x107c79ca0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x107dc4280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x107dcfdf0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x107dc0df0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107dc0e80>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x107dc4310>
                     │    │             └ <starlette.requests.Request object at 0x107de13a0>
                     │    └ <function body_logging at 0x107d90f70>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x107dc0df0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 58, in body_logging
    print(request.headers.content-type)
          │       └ <property object at 0x105c724f0>
          └ <starlette.requests.Request object at 0x107de13a0>

AttributeError: 'Headers' object has no attribute 'content'
ERROR     Exception in ASGI application
 
 2023-07-27 14:18:25 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x10491fee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104721790>
           └ <SpawnProcess name='SpawnProcess-22' parent=16936 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10471edc0>
    └ <SpawnProcess name='SpawnProcess-22' parent=16936 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104943fa0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-22' parent=16936 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-22' parent=16936 started>
    │    └ <function subprocess_started at 0x105ea3700>
    └ <SpawnProcess name='SpawnProcess-22' parent=16936 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1049439d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x105e9dc10>
           │       │   └ <uvicorn.server.Server object at 0x1049439d0>
           │       └ <function run at 0x1049538b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x107bb8bc0>
           │    └ <function BaseEventLoop.run_until_complete at 0x104ed39d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x104ed3940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x104ed74c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x104e47160>
    └ <Handle <TaskWakeupMethWrapper object at 0x107e0c7c0>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x107e0c7c0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x107e0c7c0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x107e0c7c0>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x105e85430>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x107dcfdf0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x107dcfdf0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x107c79ca0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x105e85430>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x107dcfdf0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x107dcfdf0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x107dcfdf0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x107dcfdf0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107dc0e80>
          └ <fastapi.applications.FastAPI object at 0x107c79ca0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x107dc4280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x107dcfdf0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x107dc0df0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107dc0e80>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x107dc4310>
                     │    │             └ <starlette.requests.Request object at 0x107de13a0>
                     │    └ <function body_logging at 0x107d90f70>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x107dc0df0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 58, in body_logging
    print(request.headers.content-type)
          │       └ <property object at 0x105c724f0>
          └ <starlette.requests.Request object at 0x107de13a0>

AttributeError: 'Headers' object has no attribute 'content'
ERROR     Exception in ASGI application
 
 2023-07-27 14:22:33 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x1053fbee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x105215790>
           └ <SpawnProcess name='SpawnProcess-26' parent=16936 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x105212dc0>
    └ <SpawnProcess name='SpawnProcess-26' parent=16936 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10541c3a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-26' parent=16936 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-26' parent=16936 started>
    │    └ <function subprocess_started at 0x106943790>
    └ <SpawnProcess name='SpawnProcess-26' parent=16936 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10541c3d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x10693dca0>
           │       │   └ <uvicorn.server.Server object at 0x10541c3d0>
           │       └ <function run at 0x10542f940>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x108659bc0>
           │    └ <function BaseEventLoop.run_until_complete at 0x105693a60>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1056939d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x105696550>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10561b1f0>
    └ <Handle <TaskWakeupMethWrapper object at 0x1088ac7c0>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x1088ac7c0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x1088ac7c0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x1088ac7c0>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x106923430>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10886fdf0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10886fdf0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x108719ca0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x106923430>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10886fdf0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10886fdf0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10886fdf0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10886fdf0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x108860e80>
          └ <fastapi.applications.FastAPI object at 0x108719ca0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1087fba60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10886fdf0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x108860df0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x108860e80>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1088643a0>
                     │    │             └ <starlette.requests.Request object at 0x1088813a0>
                     │    └ <function body_logging at 0x10883c040>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x108860df0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 58, in body_logging
    if request.headers['content-type'].startwith('multipart'):
       │       └ <property object at 0x106712540>
       └ <starlette.requests.Request object at 0x1088813a0>

AttributeError: 'str' object has no attribute 'startwith'
ERROR     Exception in ASGI application
 
 2023-07-27 14:22:34 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x1053fbee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x105215790>
           └ <SpawnProcess name='SpawnProcess-26' parent=16936 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x105212dc0>
    └ <SpawnProcess name='SpawnProcess-26' parent=16936 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10541c3a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-26' parent=16936 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-26' parent=16936 started>
    │    └ <function subprocess_started at 0x106943790>
    └ <SpawnProcess name='SpawnProcess-26' parent=16936 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10541c3d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x10693dca0>
           │       │   └ <uvicorn.server.Server object at 0x10541c3d0>
           │       └ <function run at 0x10542f940>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x108659bc0>
           │    └ <function BaseEventLoop.run_until_complete at 0x105693a60>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1056939d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x105696550>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10561b1f0>
    └ <Handle <TaskWakeupMethWrapper object at 0x1088ac7c0>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x1088ac7c0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x1088ac7c0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x1088ac7c0>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x106923430>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10886fdf0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10886fdf0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x108719ca0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x106923430>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10886fdf0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10886fdf0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10886fdf0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10886fdf0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x108860e80>
          └ <fastapi.applications.FastAPI object at 0x108719ca0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1087fba60>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10886fdf0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x108860df0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x108860e80>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1088643a0>
                     │    │             └ <starlette.requests.Request object at 0x1088813a0>
                     │    └ <function body_logging at 0x10883c040>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x108860df0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 58, in body_logging
    if request.headers['content-type'].startwith('multipart'):
       │       └ <property object at 0x106712540>
       └ <starlette.requests.Request object at 0x1088813a0>

AttributeError: 'str' object has no attribute 'startwith'
ERROR     Exception in ASGI application
 
 2023-07-27 14:37:21 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x100a0bee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1007dd790>
           └ <SpawnProcess name='SpawnProcess-30' parent=16936 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1007dadc0>
    └ <SpawnProcess name='SpawnProcess-30' parent=16936 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x100a2c3a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-30' parent=16936 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-30' parent=16936 started>
    │    └ <function subprocess_started at 0x101f83700>
    └ <SpawnProcess name='SpawnProcess-30' parent=16936 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x100a2c3d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x101f7dc10>
           │       │   └ <uvicorn.server.Server object at 0x100a2c3d0>
           │       └ <function run at 0x100a3f8b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x103c9aec0>
           │    └ <function BaseEventLoop.run_until_complete at 0x100fc79d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x100fc7940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x100fcb4c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x100f63160>
    └ <Handle <TaskWakeupMethWrapper object at 0x103f52490>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x103f52490>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x103f52490>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x103f52490>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1024f6700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x103f52a90>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x103f52a90>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x103d59f70>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1024f6700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x103f52a90>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x103f52a90>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x103f52a90>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x103f52a90>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x103ea0e20>
          └ <fastapi.applications.FastAPI object at 0x103d59f70>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103ed9040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x103f52a90>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x103ea0d90>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x103ea0e20>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x103f38160>
                     │    │             └ <starlette.requests.Request object at 0x103f52370>
                     │    └ <function body_logging at 0x103e70f70>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x103ea0d90>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 60, in body_logging
    if request.headers['content-type'].startswith('multipart'):
       │       └ <property object at 0x101d52590>
       └ <starlette.requests.Request object at 0x103f52370>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/datastructures.py", line 568, in __getitem__
    raise KeyError(key)
                   └ 'content-type'

KeyError: 'content-type'
ERROR     Exception in ASGI application
 
 2023-07-27 14:37:21 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x100a0bee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1007dd790>
           └ <SpawnProcess name='SpawnProcess-30' parent=16936 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1007dadc0>
    └ <SpawnProcess name='SpawnProcess-30' parent=16936 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x100a2c3a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-30' parent=16936 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-30' parent=16936 started>
    │    └ <function subprocess_started at 0x101f83700>
    └ <SpawnProcess name='SpawnProcess-30' parent=16936 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x100a2c3d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x101f7dc10>
           │       │   └ <uvicorn.server.Server object at 0x100a2c3d0>
           │       └ <function run at 0x100a3f8b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x103c9aec0>
           │    └ <function BaseEventLoop.run_until_complete at 0x100fc79d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x100fc7940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x100fcb4c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x100f63160>
    └ <Handle <TaskWakeupMethWrapper object at 0x103f52490>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x103f52490>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x103f52490>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x103f52490>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1024f6700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x103f52a90>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x103f52a90>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x103d59f70>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1024f6700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x103f52a90>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x103f52a90>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x103f52a90>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x103f52a90>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x103ea0e20>
          └ <fastapi.applications.FastAPI object at 0x103d59f70>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103ed9040>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x103f52a90>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x103ea0d90>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x103ea0e20>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x103f38160>
                     │    │             └ <starlette.requests.Request object at 0x103f52370>
                     │    └ <function body_logging at 0x103e70f70>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x103ea0d90>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 60, in body_logging
    if request.headers['content-type'].startswith('multipart'):
       │       └ <property object at 0x101d52590>
       └ <starlette.requests.Request object at 0x103f52370>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/datastructures.py", line 568, in __getitem__
    raise KeyError(key)
                   └ 'content-type'

KeyError: 'content-type'
ERROR     Exception in ASGI application
 
 2023-07-27 14:37:21 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x100a0bee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1007dd790>
           └ <SpawnProcess name='SpawnProcess-30' parent=16936 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1007dadc0>
    └ <SpawnProcess name='SpawnProcess-30' parent=16936 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x100a2c3a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-30' parent=16936 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-30' parent=16936 started>
    │    └ <function subprocess_started at 0x101f83700>
    └ <SpawnProcess name='SpawnProcess-30' parent=16936 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x100a2c3d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x101f7dc10>
           │       │   └ <uvicorn.server.Server object at 0x100a2c3d0>
           │       └ <function run at 0x100a3f8b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x103c9aec0>
           │    └ <function BaseEventLoop.run_until_complete at 0x100fc79d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x100fc7940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x100fcb4c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x100f63160>
    └ <Handle <TaskWakeupMethWrapper object at 0x104128b20>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x104128b20>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x104128b20>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x104128b20>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1024f6700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1041288b0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1041288b0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x103d59f70>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1024f6700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1041288b0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1041288b0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1041288b0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1041288b0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x103ea0e20>
          └ <fastapi.applications.FastAPI object at 0x103d59f70>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103f200d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1041288b0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x103ea0d90>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x103ea0e20>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x103efa940>
                     │    │             └ <starlette.requests.Request object at 0x1041284f0>
                     │    └ <function body_logging at 0x103e70f70>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x103ea0d90>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 60, in body_logging
    if request.headers['content-type'].startswith('multipart'):
       │       └ <property object at 0x101d52590>
       └ <starlette.requests.Request object at 0x1041284f0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/datastructures.py", line 568, in __getitem__
    raise KeyError(key)
                   └ 'content-type'

KeyError: 'content-type'
ERROR     Exception in ASGI application
 
 2023-07-27 14:37:21 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x100a0bee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1007dd790>
           └ <SpawnProcess name='SpawnProcess-30' parent=16936 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1007dadc0>
    └ <SpawnProcess name='SpawnProcess-30' parent=16936 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x100a2c3a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-30' parent=16936 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-30' parent=16936 started>
    │    └ <function subprocess_started at 0x101f83700>
    └ <SpawnProcess name='SpawnProcess-30' parent=16936 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x100a2c3d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x101f7dc10>
           │       │   └ <uvicorn.server.Server object at 0x100a2c3d0>
           │       └ <function run at 0x100a3f8b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x103c9aec0>
           │    └ <function BaseEventLoop.run_until_complete at 0x100fc79d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x100fc7940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x100fcb4c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x100f63160>
    └ <Handle <TaskWakeupMethWrapper object at 0x104128b20>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x104128b20>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x104128b20>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x104128b20>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1024f6700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1041288b0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1041288b0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x103d59f70>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1024f6700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1041288b0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1041288b0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1041288b0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1041288b0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x103ea0e20>
          └ <fastapi.applications.FastAPI object at 0x103d59f70>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x103f200d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1041288b0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x103ea0d90>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x103ea0e20>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x103efa940>
                     │    │             └ <starlette.requests.Request object at 0x1041284f0>
                     │    └ <function body_logging at 0x103e70f70>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x103ea0d90>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 60, in body_logging
    if request.headers['content-type'].startswith('multipart'):
       │       └ <property object at 0x101d52590>
       └ <starlette.requests.Request object at 0x1041284f0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/datastructures.py", line 568, in __getitem__
    raise KeyError(key)
                   └ 'content-type'

KeyError: 'content-type'
ERROR     Exception in ASGI application
 
 2023-07-27 14:37:31 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x103044ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102e25790>
           └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102e22dc0>
    └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1030643a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
    │    └ <function subprocess_started at 0x1045af700>
    └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1030643d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x1045a9c10>
           │       │   └ <uvicorn.server.Server object at 0x1030643d0>
           │       └ <function run at 0x1030778b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1062c6ec0>
           │    └ <function BaseEventLoop.run_until_complete at 0x1032ef9d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1032ef940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1032f34c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x103277160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10651b910>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10651b910>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10651b910>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10651b910>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104b22700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1064dae20>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1064dae20>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1064998b0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104b22700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1064dae20>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1064dae20>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1064dae20>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1064dae20>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1064ced60>
          └ <fastapi.applications.FastAPI object at 0x1064998b0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1064d0280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1064dae20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1064cecd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1064ced60>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1064d0310>
                     │    │             └ <starlette.requests.Request object at 0x1064ec4f0>
                     │    └ <function body_logging at 0x10649cf70>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1064cecd0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 60, in body_logging
    if request.headers['content-type'].startswith('multipart'):
       │       └ <property object at 0x10437e4f0>
       └ <starlette.requests.Request object at 0x1064ec4f0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/datastructures.py", line 568, in __getitem__
    raise KeyError(key)
                   └ 'content-type'

KeyError: 'content-type'
ERROR     Exception in ASGI application
 
 2023-07-27 14:37:31 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x103044ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102e25790>
           └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102e22dc0>
    └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1030643a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
    │    └ <function subprocess_started at 0x1045af700>
    └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1030643d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x1045a9c10>
           │       │   └ <uvicorn.server.Server object at 0x1030643d0>
           │       └ <function run at 0x1030778b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1062c6ec0>
           │    └ <function BaseEventLoop.run_until_complete at 0x1032ef9d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1032ef940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1032f34c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x103277160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10651b910>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10651b910>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10651b910>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10651b910>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104b22700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1064dae20>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1064dae20>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1064998b0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104b22700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1064dae20>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1064dae20>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1064dae20>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1064dae20>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1064ced60>
          └ <fastapi.applications.FastAPI object at 0x1064998b0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1064d0280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1064dae20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1064cecd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1064ced60>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1064d0310>
                     │    │             └ <starlette.requests.Request object at 0x1064ec4f0>
                     │    └ <function body_logging at 0x10649cf70>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1064cecd0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 60, in body_logging
    if request.headers['content-type'].startswith('multipart'):
       │       └ <property object at 0x10437e4f0>
       └ <starlette.requests.Request object at 0x1064ec4f0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/datastructures.py", line 568, in __getitem__
    raise KeyError(key)
                   └ 'content-type'

KeyError: 'content-type'
ERROR     Exception in ASGI application
 
 2023-07-27 14:37:31 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x103044ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102e25790>
           └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102e22dc0>
    └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1030643a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
    │    └ <function subprocess_started at 0x1045af700>
    └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1030643d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x1045a9c10>
           │       │   └ <uvicorn.server.Server object at 0x1030643d0>
           │       └ <function run at 0x1030778b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1062c6ec0>
           │    └ <function BaseEventLoop.run_until_complete at 0x1032ef9d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1032ef940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1032f34c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x103277160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10651be20>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10651be20>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10651be20>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10651be20>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104b22700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065167c0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065167c0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1064998b0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104b22700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065167c0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065167c0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065167c0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065167c0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1064ced60>
          └ <fastapi.applications.FastAPI object at 0x1064998b0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1064d0ca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065167c0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1064cecd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1064ced60>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x106504280>
                     │    │             └ <starlette.requests.Request object at 0x106516190>
                     │    └ <function body_logging at 0x10649cf70>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1064cecd0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 60, in body_logging
    if request.headers['content-type'].startswith('multipart'):
       │       └ <property object at 0x10437e4f0>
       └ <starlette.requests.Request object at 0x106516190>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/datastructures.py", line 568, in __getitem__
    raise KeyError(key)
                   └ 'content-type'

KeyError: 'content-type'
ERROR     Exception in ASGI application
 
 2023-07-27 14:37:31 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x103044ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102e25790>
           └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102e22dc0>
    └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1030643a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
    │    └ <function subprocess_started at 0x1045af700>
    └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1030643d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x1045a9c10>
           │       │   └ <uvicorn.server.Server object at 0x1030643d0>
           │       └ <function run at 0x1030778b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1062c6ec0>
           │    └ <function BaseEventLoop.run_until_complete at 0x1032ef9d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1032ef940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1032f34c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x103277160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10651be20>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10651be20>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10651be20>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10651be20>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104b22700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065167c0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065167c0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1064998b0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104b22700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065167c0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065167c0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065167c0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065167c0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1064ced60>
          └ <fastapi.applications.FastAPI object at 0x1064998b0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1064d0ca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065167c0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1064cecd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1064ced60>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x106504280>
                     │    │             └ <starlette.requests.Request object at 0x106516190>
                     │    └ <function body_logging at 0x10649cf70>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1064cecd0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 60, in body_logging
    if request.headers['content-type'].startswith('multipart'):
       │       └ <property object at 0x10437e4f0>
       └ <starlette.requests.Request object at 0x106516190>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/datastructures.py", line 568, in __getitem__
    raise KeyError(key)
                   └ 'content-type'

KeyError: 'content-type'
ERROR     Exception in ASGI application
 
 2023-07-27 14:37:32 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x103044ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102e25790>
           └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102e22dc0>
    └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1030643a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
    │    └ <function subprocess_started at 0x1045af700>
    └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1030643d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x1045a9c10>
           │       │   └ <uvicorn.server.Server object at 0x1030643d0>
           │       └ <function run at 0x1030778b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1062c6ec0>
           │    └ <function BaseEventLoop.run_until_complete at 0x1032ef9d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1032ef940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1032f34c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x103277160>
    └ <Handle <TaskWakeupMethWrapper object at 0x1065eb8b0>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x1065eb8b0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x1065eb8b0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x1065eb8b0>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104b22700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065eb190>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065eb190>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1064998b0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104b22700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065eb190>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065eb190>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065eb190>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065eb190>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1064ced60>
          └ <fastapi.applications.FastAPI object at 0x1064998b0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1065c38b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065eb190>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1064cecd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1064ced60>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1065c3820>
                     │    │             └ <starlette.requests.Request object at 0x10651b8e0>
                     │    └ <function body_logging at 0x10649cf70>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1064cecd0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 60, in body_logging
    if request.headers['content-type'].startswith('multipart'):
       │       └ <property object at 0x10437e4f0>
       └ <starlette.requests.Request object at 0x10651b8e0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/datastructures.py", line 568, in __getitem__
    raise KeyError(key)
                   └ 'content-type'

KeyError: 'content-type'
ERROR     Exception in ASGI application
 
 2023-07-27 14:37:32 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x103044ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102e25790>
           └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102e22dc0>
    └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1030643a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
    │    └ <function subprocess_started at 0x1045af700>
    └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1030643d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x1045a9c10>
           │       │   └ <uvicorn.server.Server object at 0x1030643d0>
           │       └ <function run at 0x1030778b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1062c6ec0>
           │    └ <function BaseEventLoop.run_until_complete at 0x1032ef9d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1032ef940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1032f34c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x103277160>
    └ <Handle <TaskWakeupMethWrapper object at 0x1065eb8b0>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x1065eb8b0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x1065eb8b0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x1065eb8b0>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104b22700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065eb190>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065eb190>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1064998b0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104b22700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065eb190>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065eb190>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065eb190>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065eb190>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1064ced60>
          └ <fastapi.applications.FastAPI object at 0x1064998b0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1065c38b0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065eb190>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1064cecd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1064ced60>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1065c3820>
                     │    │             └ <starlette.requests.Request object at 0x10651b8e0>
                     │    └ <function body_logging at 0x10649cf70>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1064cecd0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 60, in body_logging
    if request.headers['content-type'].startswith('multipart'):
       │       └ <property object at 0x10437e4f0>
       └ <starlette.requests.Request object at 0x10651b8e0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/datastructures.py", line 568, in __getitem__
    raise KeyError(key)
                   └ 'content-type'

KeyError: 'content-type'
ERROR     Exception in ASGI application
 
 2023-07-27 14:37:32 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x103044ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102e25790>
           └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102e22dc0>
    └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1030643a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
    │    └ <function subprocess_started at 0x1045af700>
    └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1030643d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x1045a9c10>
           │       │   └ <uvicorn.server.Server object at 0x1030643d0>
           │       └ <function run at 0x1030778b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1062c6ec0>
           │    └ <function BaseEventLoop.run_until_complete at 0x1032ef9d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1032ef940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1032f34c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x103277160>
    └ <Handle <TaskWakeupMethWrapper object at 0x1065ef2e0>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x1065ef2e0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x1065ef2e0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x1065ef2e0>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104b22700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065ebd60>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065ebd60>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1064998b0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104b22700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065ebd60>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065ebd60>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065ebd60>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065ebd60>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1064ced60>
          └ <fastapi.applications.FastAPI object at 0x1064998b0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1065c3e50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065ebd60>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1064cecd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1064ced60>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1065c3790>
                     │    │             └ <starlette.requests.Request object at 0x1065eb280>
                     │    └ <function body_logging at 0x10649cf70>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1064cecd0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 60, in body_logging
    if request.headers['content-type'].startswith('multipart'):
       │       └ <property object at 0x10437e4f0>
       └ <starlette.requests.Request object at 0x1065eb280>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/datastructures.py", line 568, in __getitem__
    raise KeyError(key)
                   └ 'content-type'

KeyError: 'content-type'
ERROR     Exception in ASGI application
 
 2023-07-27 14:37:32 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x103044ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102e25790>
           └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102e22dc0>
    └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1030643a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
    │    └ <function subprocess_started at 0x1045af700>
    └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1030643d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x1045a9c10>
           │       │   └ <uvicorn.server.Server object at 0x1030643d0>
           │       └ <function run at 0x1030778b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1062c6ec0>
           │    └ <function BaseEventLoop.run_until_complete at 0x1032ef9d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1032ef940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1032f34c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x103277160>
    └ <Handle <TaskWakeupMethWrapper object at 0x1065ef2e0>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x1065ef2e0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x1065ef2e0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x1065ef2e0>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104b22700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065ebd60>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065ebd60>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1064998b0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104b22700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065ebd60>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065ebd60>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065ebd60>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065ebd60>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1064ced60>
          └ <fastapi.applications.FastAPI object at 0x1064998b0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1065c3e50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065ebd60>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1064cecd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1064ced60>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1065c3790>
                     │    │             └ <starlette.requests.Request object at 0x1065eb280>
                     │    └ <function body_logging at 0x10649cf70>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1064cecd0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 60, in body_logging
    if request.headers['content-type'].startswith('multipart'):
       │       └ <property object at 0x10437e4f0>
       └ <starlette.requests.Request object at 0x1065eb280>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/datastructures.py", line 568, in __getitem__
    raise KeyError(key)
                   └ 'content-type'

KeyError: 'content-type'
ERROR     Exception in ASGI application
 
 2023-07-27 14:37:32 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x103044ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102e25790>
           └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102e22dc0>
    └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1030643a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
    │    └ <function subprocess_started at 0x1045af700>
    └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1030643d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x1045a9c10>
           │       │   └ <uvicorn.server.Server object at 0x1030643d0>
           │       └ <function run at 0x1030778b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1062c6ec0>
           │    └ <function BaseEventLoop.run_until_complete at 0x1032ef9d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1032ef940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1032f34c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x103277160>
    └ <Handle <TaskWakeupMethWrapper object at 0x1065efe20>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x1065efe20>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x1065efe20>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x1065efe20>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104b22700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065efdc0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065efdc0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1064998b0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104b22700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065efdc0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065efdc0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065efdc0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065efdc0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1064ced60>
          └ <fastapi.applications.FastAPI object at 0x1064998b0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1065c3c10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065efdc0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1064cecd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1064ced60>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1065c3d30>
                     │    │             └ <starlette.requests.Request object at 0x1065ef760>
                     │    └ <function body_logging at 0x10649cf70>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1064cecd0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 60, in body_logging
    if request.headers['content-type'].startswith('multipart'):
       │       └ <property object at 0x10437e4f0>
       └ <starlette.requests.Request object at 0x1065ef760>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/datastructures.py", line 568, in __getitem__
    raise KeyError(key)
                   └ 'content-type'

KeyError: 'content-type'
ERROR     Exception in ASGI application
 
 2023-07-27 14:37:32 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x103044ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102e25790>
           └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102e22dc0>
    └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1030643a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
    │    └ <function subprocess_started at 0x1045af700>
    └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1030643d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x1045a9c10>
           │       │   └ <uvicorn.server.Server object at 0x1030643d0>
           │       └ <function run at 0x1030778b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1062c6ec0>
           │    └ <function BaseEventLoop.run_until_complete at 0x1032ef9d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1032ef940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1032f34c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x103277160>
    └ <Handle <TaskWakeupMethWrapper object at 0x1065efe20>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x1065efe20>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x1065efe20>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x1065efe20>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104b22700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065efdc0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065efdc0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1064998b0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104b22700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065efdc0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065efdc0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065efdc0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065efdc0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1064ced60>
          └ <fastapi.applications.FastAPI object at 0x1064998b0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1065c3c10>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065efdc0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1064cecd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1064ced60>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1065c3d30>
                     │    │             └ <starlette.requests.Request object at 0x1065ef760>
                     │    └ <function body_logging at 0x10649cf70>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1064cecd0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 60, in body_logging
    if request.headers['content-type'].startswith('multipart'):
       │       └ <property object at 0x10437e4f0>
       └ <starlette.requests.Request object at 0x1065ef760>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/datastructures.py", line 568, in __getitem__
    raise KeyError(key)
                   └ 'content-type'

KeyError: 'content-type'
ERROR     Exception in ASGI application
 
 2023-07-27 14:37:32 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x103044ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102e25790>
           └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102e22dc0>
    └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1030643a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
    │    └ <function subprocess_started at 0x1045af700>
    └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1030643d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x1045a9c10>
           │       │   └ <uvicorn.server.Server object at 0x1030643d0>
           │       └ <function run at 0x1030778b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1062c6ec0>
           │    └ <function BaseEventLoop.run_until_complete at 0x1032ef9d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1032ef940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1032f34c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x103277160>
    └ <Handle <TaskWakeupMethWrapper object at 0x1065f44f0>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x1065f44f0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x1065f44f0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x1065f44f0>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104b22700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065f47f0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065f47f0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1064998b0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104b22700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065f47f0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065f47f0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065f47f0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065f47f0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1064ced60>
          └ <fastapi.applications.FastAPI object at 0x1064998b0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1065f0430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065f47f0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1064cecd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1064ced60>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1065f04c0>
                     │    │             └ <starlette.requests.Request object at 0x1065f40d0>
                     │    └ <function body_logging at 0x10649cf70>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1064cecd0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 60, in body_logging
    if request.headers['content-type'].startswith('multipart'):
       │       └ <property object at 0x10437e4f0>
       └ <starlette.requests.Request object at 0x1065f40d0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/datastructures.py", line 568, in __getitem__
    raise KeyError(key)
                   └ 'content-type'

KeyError: 'content-type'
ERROR     Exception in ASGI application
 
 2023-07-27 14:37:32 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x103044ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102e25790>
           └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102e22dc0>
    └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1030643a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
    │    └ <function subprocess_started at 0x1045af700>
    └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1030643d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x1045a9c10>
           │       │   └ <uvicorn.server.Server object at 0x1030643d0>
           │       └ <function run at 0x1030778b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1062c6ec0>
           │    └ <function BaseEventLoop.run_until_complete at 0x1032ef9d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1032ef940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1032f34c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x103277160>
    └ <Handle <TaskWakeupMethWrapper object at 0x1065f44f0>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x1065f44f0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x1065f44f0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x1065f44f0>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104b22700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065f47f0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065f47f0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1064998b0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104b22700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065f47f0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065f47f0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065f47f0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065f47f0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1064ced60>
          └ <fastapi.applications.FastAPI object at 0x1064998b0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1065f0430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065f47f0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1064cecd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1064ced60>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1065f04c0>
                     │    │             └ <starlette.requests.Request object at 0x1065f40d0>
                     │    └ <function body_logging at 0x10649cf70>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1064cecd0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 60, in body_logging
    if request.headers['content-type'].startswith('multipart'):
       │       └ <property object at 0x10437e4f0>
       └ <starlette.requests.Request object at 0x1065f40d0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/datastructures.py", line 568, in __getitem__
    raise KeyError(key)
                   └ 'content-type'

KeyError: 'content-type'
ERROR     Exception in ASGI application
 
 2023-07-27 14:37:33 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x103044ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102e25790>
           └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102e22dc0>
    └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1030643a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
    │    └ <function subprocess_started at 0x1045af700>
    └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1030643d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x1045a9c10>
           │       │   └ <uvicorn.server.Server object at 0x1030643d0>
           │       └ <function run at 0x1030778b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1062c6ec0>
           │    └ <function BaseEventLoop.run_until_complete at 0x1032ef9d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1032ef940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1032f34c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x103277160>
    └ <Handle <TaskWakeupMethWrapper object at 0x1065f4700>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x1065f4700>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x1065f4700>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x1065f4700>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104b22700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065f96d0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065f96d0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1064998b0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104b22700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065f96d0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065f96d0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065f96d0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065f96d0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1064ced60>
          └ <fastapi.applications.FastAPI object at 0x1064998b0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1065f0670>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065f96d0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1064cecd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1064ced60>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1065f0040>
                     │    │             └ <starlette.requests.Request object at 0x1065f47f0>
                     │    └ <function body_logging at 0x10649cf70>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1064cecd0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 60, in body_logging
    if request.headers['content-type'].startswith('multipart'):
       │       └ <property object at 0x10437e4f0>
       └ <starlette.requests.Request object at 0x1065f47f0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/datastructures.py", line 568, in __getitem__
    raise KeyError(key)
                   └ 'content-type'

KeyError: 'content-type'
ERROR     Exception in ASGI application
 
 2023-07-27 14:37:33 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x103044ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102e25790>
           └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102e22dc0>
    └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1030643a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
    │    └ <function subprocess_started at 0x1045af700>
    └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1030643d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x1045a9c10>
           │       │   └ <uvicorn.server.Server object at 0x1030643d0>
           │       └ <function run at 0x1030778b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1062c6ec0>
           │    └ <function BaseEventLoop.run_until_complete at 0x1032ef9d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1032ef940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1032f34c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x103277160>
    └ <Handle <TaskWakeupMethWrapper object at 0x1065f4700>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x1065f4700>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x1065f4700>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x1065f4700>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104b22700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065f96d0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065f96d0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1064998b0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104b22700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065f96d0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065f96d0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065f96d0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065f96d0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1064ced60>
          └ <fastapi.applications.FastAPI object at 0x1064998b0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1065f0670>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065f96d0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1064cecd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1064ced60>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1065f0040>
                     │    │             └ <starlette.requests.Request object at 0x1065f47f0>
                     │    └ <function body_logging at 0x10649cf70>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1064cecd0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 60, in body_logging
    if request.headers['content-type'].startswith('multipart'):
       │       └ <property object at 0x10437e4f0>
       └ <starlette.requests.Request object at 0x1065f47f0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/datastructures.py", line 568, in __getitem__
    raise KeyError(key)
                   └ 'content-type'

KeyError: 'content-type'
ERROR     Exception in ASGI application
 
 2023-07-27 14:37:33 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x103044ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102e25790>
           └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102e22dc0>
    └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1030643a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
    │    └ <function subprocess_started at 0x1045af700>
    └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1030643d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x1045a9c10>
           │       │   └ <uvicorn.server.Server object at 0x1030643d0>
           │       └ <function run at 0x1030778b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1062c6ec0>
           │    └ <function BaseEventLoop.run_until_complete at 0x1032ef9d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1032ef940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1032f34c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x103277160>
    └ <Handle <TaskWakeupMethWrapper object at 0x1065efd60>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x1065efd60>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x1065efd60>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x1065efd60>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104b22700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065efbb0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065efbb0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1064998b0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104b22700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065efbb0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065efbb0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065efbb0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065efbb0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1064ced60>
          └ <fastapi.applications.FastAPI object at 0x1064998b0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1064d0ca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065efbb0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1064cecd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1064ced60>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1065c3e50>
                     │    │             └ <starlette.requests.Request object at 0x1065efe20>
                     │    └ <function body_logging at 0x10649cf70>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1064cecd0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 60, in body_logging
    if request.headers['content-type'].startswith('multipart'):
       │       └ <property object at 0x10437e4f0>
       └ <starlette.requests.Request object at 0x1065efe20>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/datastructures.py", line 568, in __getitem__
    raise KeyError(key)
                   └ 'content-type'

KeyError: 'content-type'
ERROR     Exception in ASGI application
 
 2023-07-27 14:37:33 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x103044ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102e25790>
           └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102e22dc0>
    └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1030643a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
    │    └ <function subprocess_started at 0x1045af700>
    └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1030643d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x1045a9c10>
           │       │   └ <uvicorn.server.Server object at 0x1030643d0>
           │       └ <function run at 0x1030778b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1062c6ec0>
           │    └ <function BaseEventLoop.run_until_complete at 0x1032ef9d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1032ef940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1032f34c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x103277160>
    └ <Handle <TaskWakeupMethWrapper object at 0x1065efd60>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x1065efd60>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x1065efd60>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x1065efd60>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104b22700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065efbb0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065efbb0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1064998b0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104b22700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065efbb0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065efbb0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065efbb0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065efbb0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1064ced60>
          └ <fastapi.applications.FastAPI object at 0x1064998b0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1064d0ca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065efbb0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1064cecd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1064ced60>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1065c3e50>
                     │    │             └ <starlette.requests.Request object at 0x1065efe20>
                     │    └ <function body_logging at 0x10649cf70>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1064cecd0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 60, in body_logging
    if request.headers['content-type'].startswith('multipart'):
       │       └ <property object at 0x10437e4f0>
       └ <starlette.requests.Request object at 0x1065efe20>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/datastructures.py", line 568, in __getitem__
    raise KeyError(key)
                   └ 'content-type'

KeyError: 'content-type'
ERROR     Exception in ASGI application
 
 2023-07-27 14:37:38 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x103044ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102e25790>
           └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102e22dc0>
    └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1030643a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
    │    └ <function subprocess_started at 0x1045af700>
    └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1030643d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x1045a9c10>
           │       │   └ <uvicorn.server.Server object at 0x1030643d0>
           │       └ <function run at 0x1030778b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1062c6ec0>
           │    └ <function BaseEventLoop.run_until_complete at 0x1032ef9d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1032ef940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1032f34c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x103277160>
    └ <Handle <TaskWakeupMethWrapper object at 0x1065eb5b0>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x1065eb5b0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x1065eb5b0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x1065eb5b0>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104b22700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065eb4f0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065eb4f0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1064998b0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104b22700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065eb4f0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065eb4f0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065eb4f0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065eb4f0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1064ced60>
          └ <fastapi.applications.FastAPI object at 0x1064998b0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1065c39d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065eb4f0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1064cecd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1064ced60>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1065c3d30>
                     │    │             └ <starlette.requests.Request object at 0x1065eb3d0>
                     │    └ <function body_logging at 0x10649cf70>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1064cecd0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 60, in body_logging
    if request.headers['content-type'].startswith('multipart'):
       │       └ <property object at 0x10437e4f0>
       └ <starlette.requests.Request object at 0x1065eb3d0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/datastructures.py", line 568, in __getitem__
    raise KeyError(key)
                   └ 'content-type'

KeyError: 'content-type'
ERROR     Exception in ASGI application
 
 2023-07-27 14:37:38 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x103044ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102e25790>
           └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102e22dc0>
    └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1030643a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
    │    └ <function subprocess_started at 0x1045af700>
    └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1030643d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x1045a9c10>
           │       │   └ <uvicorn.server.Server object at 0x1030643d0>
           │       └ <function run at 0x1030778b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1062c6ec0>
           │    └ <function BaseEventLoop.run_until_complete at 0x1032ef9d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1032ef940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1032f34c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x103277160>
    └ <Handle <TaskWakeupMethWrapper object at 0x1065eb5b0>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x1065eb5b0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x1065eb5b0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x1065eb5b0>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104b22700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065eb4f0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065eb4f0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1064998b0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104b22700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065eb4f0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065eb4f0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065eb4f0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065eb4f0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1064ced60>
          └ <fastapi.applications.FastAPI object at 0x1064998b0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1065c39d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1065eb4f0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1064cecd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1064ced60>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1065c3d30>
                     │    │             └ <starlette.requests.Request object at 0x1065eb3d0>
                     │    └ <function body_logging at 0x10649cf70>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1064cecd0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 60, in body_logging
    if request.headers['content-type'].startswith('multipart'):
       │       └ <property object at 0x10437e4f0>
       └ <starlette.requests.Request object at 0x1065eb3d0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/datastructures.py", line 568, in __getitem__
    raise KeyError(key)
                   └ 'content-type'

KeyError: 'content-type'
ERROR     Exception in ASGI application
 
 2023-07-27 14:37:38 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x103044ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102e25790>
           └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102e22dc0>
    └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1030643a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
    │    └ <function subprocess_started at 0x1045af700>
    └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1030643d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x1045a9c10>
           │       │   └ <uvicorn.server.Server object at 0x1030643d0>
           │       └ <function run at 0x1030778b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1062c6ec0>
           │    └ <function BaseEventLoop.run_until_complete at 0x1032ef9d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1032ef940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1032f34c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x103277160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10651bd00>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10651bd00>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10651bd00>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10651bd00>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104b22700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10651b520>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10651b520>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1064998b0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104b22700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10651b520>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10651b520>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10651b520>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10651b520>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1064ced60>
          └ <fastapi.applications.FastAPI object at 0x1064998b0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1065c3700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10651b520>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1064cecd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1064ced60>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1065c3af0>
                     │    │             └ <starlette.requests.Request object at 0x1065eb760>
                     │    └ <function body_logging at 0x10649cf70>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1064cecd0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 60, in body_logging
    if request.headers['content-type'].startswith('multipart'):
       │       └ <property object at 0x10437e4f0>
       └ <starlette.requests.Request object at 0x1065eb760>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/datastructures.py", line 568, in __getitem__
    raise KeyError(key)
                   └ 'content-type'

KeyError: 'content-type'
ERROR     Exception in ASGI application
 
 2023-07-27 14:37:38 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x103044ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102e25790>
           └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102e22dc0>
    └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1030643a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
    │    └ <function subprocess_started at 0x1045af700>
    └ <SpawnProcess name='SpawnProcess-1' parent=21434 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1030643d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x1045a9c10>
           │       │   └ <uvicorn.server.Server object at 0x1030643d0>
           │       └ <function run at 0x1030778b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1062c6ec0>
           │    └ <function BaseEventLoop.run_until_complete at 0x1032ef9d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1032ef940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1032f34c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x103277160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10651bd00>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10651bd00>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10651bd00>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10651bd00>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104b22700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10651b520>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10651b520>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1064998b0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104b22700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10651b520>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10651b520>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10651b520>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10651b520>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1064ced60>
          └ <fastapi.applications.FastAPI object at 0x1064998b0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1065c3700>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10651b520>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1064cecd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1064ced60>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1065c3af0>
                     │    │             └ <starlette.requests.Request object at 0x1065eb760>
                     │    └ <function body_logging at 0x10649cf70>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1064cecd0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 60, in body_logging
    if request.headers['content-type'].startswith('multipart'):
       │       └ <property object at 0x10437e4f0>
       └ <starlette.requests.Request object at 0x1065eb760>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/datastructures.py", line 568, in __getitem__
    raise KeyError(key)
                   └ 'content-type'

KeyError: 'content-type'
ERROR     Exception in ASGI application
 
 2023-07-27 14:37:44 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x104fa3ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104d85790>
           └ <SpawnProcess name='SpawnProcess-1' parent=21501 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104d82dc0>
    └ <SpawnProcess name='SpawnProcess-1' parent=21501 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104fc43a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=21501 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=21501 started>
    │    └ <function subprocess_started at 0x10650f700>
    └ <SpawnProcess name='SpawnProcess-1' parent=21501 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104fc43d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x106509c10>
           │       │   └ <uvicorn.server.Server object at 0x104fc43d0>
           │       └ <function run at 0x104fd78b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x108226940>
           │    └ <function BaseEventLoop.run_until_complete at 0x10524f9d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10524f940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1052534c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x1051d7160>
    └ <Handle <TaskWakeupMethWrapper object at 0x108478910>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x108478910>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x108478910>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x108478910>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x106a82700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108439e20>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108439e20>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1083f98b0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x106a82700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108439e20>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108439e20>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108439e20>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108439e20>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10842dd60>
          └ <fastapi.applications.FastAPI object at 0x1083f98b0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1083c79d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108439e20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10842dcd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10842dd60>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x108430280>
                     │    │             └ <starlette.requests.Request object at 0x10844c4f0>
                     │    └ <function body_logging at 0x1083fcf70>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10842dcd0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 60, in body_logging
    if request.headers['content-type'].startswith('multipart'):
       │       └ <property object at 0x1062de4a0>
       └ <starlette.requests.Request object at 0x10844c4f0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/datastructures.py", line 568, in __getitem__
    raise KeyError(key)
                   └ 'content-type'

KeyError: 'content-type'
ERROR     Exception in ASGI application
 
 2023-07-27 14:37:44 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x104fa3ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104d85790>
           └ <SpawnProcess name='SpawnProcess-1' parent=21501 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104d82dc0>
    └ <SpawnProcess name='SpawnProcess-1' parent=21501 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104fc43a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=21501 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=21501 started>
    │    └ <function subprocess_started at 0x10650f700>
    └ <SpawnProcess name='SpawnProcess-1' parent=21501 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104fc43d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x106509c10>
           │       │   └ <uvicorn.server.Server object at 0x104fc43d0>
           │       └ <function run at 0x104fd78b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x108226940>
           │    └ <function BaseEventLoop.run_until_complete at 0x10524f9d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10524f940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1052534c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x1051d7160>
    └ <Handle <TaskWakeupMethWrapper object at 0x108478910>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x108478910>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x108478910>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x108478910>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x106a82700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108439e20>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108439e20>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1083f98b0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x106a82700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108439e20>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108439e20>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108439e20>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108439e20>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10842dd60>
          └ <fastapi.applications.FastAPI object at 0x1083f98b0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1083c79d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108439e20>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10842dcd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10842dd60>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x108430280>
                     │    │             └ <starlette.requests.Request object at 0x10844c4f0>
                     │    └ <function body_logging at 0x1083fcf70>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10842dcd0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 60, in body_logging
    if request.headers['content-type'].startswith('multipart'):
       │       └ <property object at 0x1062de4a0>
       └ <starlette.requests.Request object at 0x10844c4f0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/datastructures.py", line 568, in __getitem__
    raise KeyError(key)
                   └ 'content-type'

KeyError: 'content-type'
ERROR     Exception in ASGI application
 
 2023-07-27 14:37:44 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x104fa3ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104d85790>
           └ <SpawnProcess name='SpawnProcess-1' parent=21501 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104d82dc0>
    └ <SpawnProcess name='SpawnProcess-1' parent=21501 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104fc43a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=21501 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=21501 started>
    │    └ <function subprocess_started at 0x10650f700>
    └ <SpawnProcess name='SpawnProcess-1' parent=21501 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104fc43d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x106509c10>
           │       │   └ <uvicorn.server.Server object at 0x104fc43d0>
           │       └ <function run at 0x104fd78b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x108226940>
           │    └ <function BaseEventLoop.run_until_complete at 0x10524f9d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10524f940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1052534c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x1051d7160>
    └ <Handle <TaskWakeupMethWrapper object at 0x108478d90>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x108478d90>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x108478d90>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x108478d90>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x106a82700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1084767f0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1084767f0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1083f98b0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x106a82700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1084767f0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1084767f0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1084767f0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1084767f0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10842dd60>
          └ <fastapi.applications.FastAPI object at 0x1083f98b0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x108430310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1084767f0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10842dcd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10842dd60>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x108464280>
                     │    │             └ <starlette.requests.Request object at 0x108476fa0>
                     │    └ <function body_logging at 0x1083fcf70>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10842dcd0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 60, in body_logging
    if request.headers['content-type'].startswith('multipart'):
       │       └ <property object at 0x1062de4a0>
       └ <starlette.requests.Request object at 0x108476fa0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/datastructures.py", line 568, in __getitem__
    raise KeyError(key)
                   └ 'content-type'

KeyError: 'content-type'
ERROR     Exception in ASGI application
 
 2023-07-27 14:37:44 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x104fa3ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104d85790>
           └ <SpawnProcess name='SpawnProcess-1' parent=21501 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104d82dc0>
    └ <SpawnProcess name='SpawnProcess-1' parent=21501 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104fc43a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=21501 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=21501 started>
    │    └ <function subprocess_started at 0x10650f700>
    └ <SpawnProcess name='SpawnProcess-1' parent=21501 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104fc43d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x106509c10>
           │       │   └ <uvicorn.server.Server object at 0x104fc43d0>
           │       └ <function run at 0x104fd78b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x108226940>
           │    └ <function BaseEventLoop.run_until_complete at 0x10524f9d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10524f940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1052534c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x1051d7160>
    └ <Handle <TaskWakeupMethWrapper object at 0x108478d90>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x108478d90>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x108478d90>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x108478d90>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x106a82700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1084767f0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1084767f0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1083f98b0>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x106a82700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1084767f0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1084767f0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1084767f0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1084767f0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10842dd60>
          └ <fastapi.applications.FastAPI object at 0x1083f98b0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x108430310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1084767f0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10842dcd0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10842dd60>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x108464280>
                     │    │             └ <starlette.requests.Request object at 0x108476fa0>
                     │    └ <function body_logging at 0x1083fcf70>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10842dcd0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 60, in body_logging
    if request.headers['content-type'].startswith('multipart'):
       │       └ <property object at 0x1062de4a0>
       └ <starlette.requests.Request object at 0x108476fa0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/datastructures.py", line 568, in __getitem__
    raise KeyError(key)
                   └ 'content-type'

KeyError: 'content-type'
ERROR     Exception in ASGI application
 
 2023-07-27 14:39:44 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x102d0fee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102af1790>
           └ <SpawnProcess name='SpawnProcess-3' parent=21501 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102aeedc0>
    └ <SpawnProcess name='SpawnProcess-3' parent=21501 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x102d303a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=21501 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=21501 started>
    │    └ <function subprocess_started at 0x104277700>
    └ <SpawnProcess name='SpawnProcess-3' parent=21501 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x102d303d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x104271c10>
           │       │   └ <uvicorn.server.Server object at 0x102d303d0>
           │       └ <function run at 0x102d438b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1070fdec0>
           │    └ <function BaseEventLoop.run_until_complete at 0x1032ba9d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1032ba940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1032bf4c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x103243160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10734f910>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10734f910>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10734f910>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10734f910>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1047ea700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x107312ee0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x107312ee0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x107269f70>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1047ea700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x107312ee0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x107312ee0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x107312ee0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x107312ee0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107304e20>
          └ <fastapi.applications.FastAPI object at 0x107269f70>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10729f9d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x107312ee0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x107304d90>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107304e20>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x107308280>
                     │    │             └ <starlette.requests.Request object at 0x1073244f0>
                     │    └ <function body_logging at 0x1072d4f70>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x107304d90>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 60, in body_logging
    if request.headers['content-type']:
       │       └ <property object at 0x1040464f0>
       └ <starlette.requests.Request object at 0x1073244f0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/datastructures.py", line 568, in __getitem__
    raise KeyError(key)
                   └ 'content-type'

KeyError: 'content-type'
ERROR     Exception in ASGI application
 
 2023-07-27 14:39:44 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x102d0fee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102af1790>
           └ <SpawnProcess name='SpawnProcess-3' parent=21501 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102aeedc0>
    └ <SpawnProcess name='SpawnProcess-3' parent=21501 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x102d303a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=21501 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=21501 started>
    │    └ <function subprocess_started at 0x104277700>
    └ <SpawnProcess name='SpawnProcess-3' parent=21501 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x102d303d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x104271c10>
           │       │   └ <uvicorn.server.Server object at 0x102d303d0>
           │       └ <function run at 0x102d438b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1070fdec0>
           │    └ <function BaseEventLoop.run_until_complete at 0x1032ba9d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1032ba940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1032bf4c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x103243160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10734f910>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10734f910>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10734f910>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10734f910>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1047ea700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x107312ee0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x107312ee0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x107269f70>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1047ea700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x107312ee0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x107312ee0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x107312ee0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x107312ee0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107304e20>
          └ <fastapi.applications.FastAPI object at 0x107269f70>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10729f9d0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x107312ee0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x107304d90>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107304e20>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x107308280>
                     │    │             └ <starlette.requests.Request object at 0x1073244f0>
                     │    └ <function body_logging at 0x1072d4f70>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x107304d90>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 60, in body_logging
    if request.headers['content-type']:
       │       └ <property object at 0x1040464f0>
       └ <starlette.requests.Request object at 0x1073244f0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/datastructures.py", line 568, in __getitem__
    raise KeyError(key)
                   └ 'content-type'

KeyError: 'content-type'
ERROR     Exception in ASGI application
 
 2023-07-27 14:39:44 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x102d0fee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102af1790>
           └ <SpawnProcess name='SpawnProcess-3' parent=21501 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102aeedc0>
    └ <SpawnProcess name='SpawnProcess-3' parent=21501 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x102d303a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=21501 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=21501 started>
    │    └ <function subprocess_started at 0x104277700>
    └ <SpawnProcess name='SpawnProcess-3' parent=21501 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x102d303d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x104271c10>
           │       │   └ <uvicorn.server.Server object at 0x102d303d0>
           │       └ <function run at 0x102d438b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1070fdec0>
           │    └ <function BaseEventLoop.run_until_complete at 0x1032ba9d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1032ba940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1032bf4c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x103243160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10734fb80>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10734fb80>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10734fb80>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10734fb80>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1047ea700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10734e7f0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10734e7f0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x107269f70>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1047ea700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10734e7f0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10734e7f0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10734e7f0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10734e7f0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107304e20>
          └ <fastapi.applications.FastAPI object at 0x107269f70>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x107308ca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10734e7f0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x107304d90>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107304e20>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10733d280>
                     │    │             └ <starlette.requests.Request object at 0x10734e430>
                     │    └ <function body_logging at 0x1072d4f70>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x107304d90>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 60, in body_logging
    if request.headers['content-type']:
       │       └ <property object at 0x1040464f0>
       └ <starlette.requests.Request object at 0x10734e430>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/datastructures.py", line 568, in __getitem__
    raise KeyError(key)
                   └ 'content-type'

KeyError: 'content-type'
ERROR     Exception in ASGI application
 
 2023-07-27 14:39:44 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x102d0fee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102af1790>
           └ <SpawnProcess name='SpawnProcess-3' parent=21501 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102aeedc0>
    └ <SpawnProcess name='SpawnProcess-3' parent=21501 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x102d303a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=21501 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=21501 started>
    │    └ <function subprocess_started at 0x104277700>
    └ <SpawnProcess name='SpawnProcess-3' parent=21501 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x102d303d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x104271c10>
           │       │   └ <uvicorn.server.Server object at 0x102d303d0>
           │       └ <function run at 0x102d438b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1070fdec0>
           │    └ <function BaseEventLoop.run_until_complete at 0x1032ba9d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1032ba940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1032bf4c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x103243160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10734fb80>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10734fb80>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10734fb80>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10734fb80>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1047ea700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10734e7f0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10734e7f0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x107269f70>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1047ea700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10734e7f0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10734e7f0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10734e7f0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10734e7f0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107304e20>
          └ <fastapi.applications.FastAPI object at 0x107269f70>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x107308ca0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10734e7f0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x107304d90>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107304e20>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10733d280>
                     │    │             └ <starlette.requests.Request object at 0x10734e430>
                     │    └ <function body_logging at 0x1072d4f70>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x107304d90>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 60, in body_logging
    if request.headers['content-type']:
       │       └ <property object at 0x1040464f0>
       └ <starlette.requests.Request object at 0x10734e430>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/datastructures.py", line 568, in __getitem__
    raise KeyError(key)
                   └ 'content-type'

KeyError: 'content-type'
ERROR     Exception in ASGI application
 
 2023-07-27 14:39:45 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x102d0fee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102af1790>
           └ <SpawnProcess name='SpawnProcess-3' parent=21501 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102aeedc0>
    └ <SpawnProcess name='SpawnProcess-3' parent=21501 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x102d303a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=21501 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=21501 started>
    │    └ <function subprocess_started at 0x104277700>
    └ <SpawnProcess name='SpawnProcess-3' parent=21501 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x102d303d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x104271c10>
           │       │   └ <uvicorn.server.Server object at 0x102d303d0>
           │       └ <function run at 0x102d438b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1070fdec0>
           │    └ <function BaseEventLoop.run_until_complete at 0x1032ba9d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1032ba940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1032bf4c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x103243160>
    └ <Handle <TaskWakeupMethWrapper object at 0x107637100>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x107637100>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x107637100>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x107637100>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1047ea700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1076373a0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1076373a0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x107269f70>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1047ea700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1076373a0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1076373a0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1076373a0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1076373a0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107304e20>
          └ <fastapi.applications.FastAPI object at 0x107269f70>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10760f790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1076373a0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x107304d90>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107304e20>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10760f940>
                     │    │             └ <starlette.requests.Request object at 0x10734f310>
                     │    └ <function body_logging at 0x1072d4f70>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x107304d90>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 60, in body_logging
    if request.headers['content-type']:
       │       └ <property object at 0x1040464f0>
       └ <starlette.requests.Request object at 0x10734f310>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/datastructures.py", line 568, in __getitem__
    raise KeyError(key)
                   └ 'content-type'

KeyError: 'content-type'
ERROR     Exception in ASGI application
 
 2023-07-27 14:39:45 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x102d0fee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102af1790>
           └ <SpawnProcess name='SpawnProcess-3' parent=21501 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102aeedc0>
    └ <SpawnProcess name='SpawnProcess-3' parent=21501 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x102d303a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=21501 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=21501 started>
    │    └ <function subprocess_started at 0x104277700>
    └ <SpawnProcess name='SpawnProcess-3' parent=21501 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x102d303d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x104271c10>
           │       │   └ <uvicorn.server.Server object at 0x102d303d0>
           │       └ <function run at 0x102d438b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1070fdec0>
           │    └ <function BaseEventLoop.run_until_complete at 0x1032ba9d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1032ba940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1032bf4c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x103243160>
    └ <Handle <TaskWakeupMethWrapper object at 0x107637100>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x107637100>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x107637100>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x107637100>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1047ea700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1076373a0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1076373a0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x107269f70>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1047ea700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1076373a0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1076373a0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1076373a0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1076373a0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107304e20>
          └ <fastapi.applications.FastAPI object at 0x107269f70>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10760f790>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1076373a0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x107304d90>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107304e20>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10760f940>
                     │    │             └ <starlette.requests.Request object at 0x10734f310>
                     │    └ <function body_logging at 0x1072d4f70>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x107304d90>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 60, in body_logging
    if request.headers['content-type']:
       │       └ <property object at 0x1040464f0>
       └ <starlette.requests.Request object at 0x10734f310>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/datastructures.py", line 568, in __getitem__
    raise KeyError(key)
                   └ 'content-type'

KeyError: 'content-type'
ERROR     Exception in ASGI application
 
 2023-07-27 14:39:45 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x102d0fee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102af1790>
           └ <SpawnProcess name='SpawnProcess-3' parent=21501 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102aeedc0>
    └ <SpawnProcess name='SpawnProcess-3' parent=21501 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x102d303a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=21501 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=21501 started>
    │    └ <function subprocess_started at 0x104277700>
    └ <SpawnProcess name='SpawnProcess-3' parent=21501 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x102d303d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x104271c10>
           │       │   └ <uvicorn.server.Server object at 0x102d303d0>
           │       └ <function run at 0x102d438b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1070fdec0>
           │    └ <function BaseEventLoop.run_until_complete at 0x1032ba9d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1032ba940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1032bf4c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x103243160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10763c2b0>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10763c2b0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10763c2b0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10763c2b0>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1047ea700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x107637d30>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x107637d30>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x107269f70>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1047ea700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x107637d30>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x107637d30>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x107637d30>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x107637d30>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107304e20>
          └ <fastapi.applications.FastAPI object at 0x107269f70>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10760fe50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x107637d30>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x107304d90>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107304e20>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10760fd30>
                     │    │             └ <starlette.requests.Request object at 0x107637640>
                     │    └ <function body_logging at 0x1072d4f70>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x107304d90>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 60, in body_logging
    if request.headers['content-type']:
       │       └ <property object at 0x1040464f0>
       └ <starlette.requests.Request object at 0x107637640>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/datastructures.py", line 568, in __getitem__
    raise KeyError(key)
                   └ 'content-type'

KeyError: 'content-type'
ERROR     Exception in ASGI application
 
 2023-07-27 14:39:45 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x102d0fee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102af1790>
           └ <SpawnProcess name='SpawnProcess-3' parent=21501 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102aeedc0>
    └ <SpawnProcess name='SpawnProcess-3' parent=21501 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x102d303a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=21501 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=21501 started>
    │    └ <function subprocess_started at 0x104277700>
    └ <SpawnProcess name='SpawnProcess-3' parent=21501 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x102d303d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x104271c10>
           │       │   └ <uvicorn.server.Server object at 0x102d303d0>
           │       └ <function run at 0x102d438b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1070fdec0>
           │    └ <function BaseEventLoop.run_until_complete at 0x1032ba9d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1032ba940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1032bf4c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x103243160>
    └ <Handle <TaskWakeupMethWrapper object at 0x10763c2b0>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10763c2b0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10763c2b0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10763c2b0>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1047ea700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x107637d30>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x107637d30>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x107269f70>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1047ea700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x107637d30>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x107637d30>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x107637d30>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x107637d30>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107304e20>
          └ <fastapi.applications.FastAPI object at 0x107269f70>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10760fe50>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x107637d30>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x107304d90>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x107304e20>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10760fd30>
                     │    │             └ <starlette.requests.Request object at 0x107637640>
                     │    └ <function body_logging at 0x1072d4f70>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x107304d90>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 60, in body_logging
    if request.headers['content-type']:
       │       └ <property object at 0x1040464f0>
       └ <starlette.requests.Request object at 0x107637640>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/datastructures.py", line 568, in __getitem__
    raise KeyError(key)
                   └ 'content-type'

KeyError: 'content-type'
ERROR     Exception in ASGI application
 
 2023-07-27 14:40:12 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x1014a7ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x101279790>
           └ <SpawnProcess name='SpawnProcess-4' parent=21501 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x101276dc0>
    └ <SpawnProcess name='SpawnProcess-4' parent=21501 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1014c83a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-4' parent=21501 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-4' parent=21501 started>
    │    └ <function subprocess_started at 0x102a2b790>
    └ <SpawnProcess name='SpawnProcess-4' parent=21501 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1014c83d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x102a25ca0>
           │       │   └ <uvicorn.server.Server object at 0x1014c83d0>
           │       └ <function run at 0x1014db940>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x104741bc0>
           │    └ <function BaseEventLoop.run_until_complete at 0x101a6fa60>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x101a6f9d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x101a72550>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x1019f71f0>
    └ <Handle <TaskWakeupMethWrapper object at 0x104996910>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x104996910>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x104996910>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x104996910>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f9e700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x104956ee0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x104956ee0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x104801f70>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f9e700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x104956ee0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x104956ee0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x104956ee0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x104956ee0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x104949e20>
          └ <fastapi.applications.FastAPI object at 0x104801f70>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1049483a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x104956ee0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x104949d90>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x104949e20>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x104948430>
                     │    │             └ <starlette.requests.Request object at 0x1049684f0>
                     │    └ <function body_logging at 0x1049240d0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x104949d90>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 61, in body_logging
    if request.headers['content-type']:
       │       └ <property object at 0x1027fb400>
       └ <starlette.requests.Request object at 0x1049684f0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/datastructures.py", line 568, in __getitem__
    raise KeyError(key)
                   └ 'content-type'

KeyError: 'content-type'
ERROR     Exception in ASGI application
 
 2023-07-27 14:40:12 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x1014a7ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x101279790>
           └ <SpawnProcess name='SpawnProcess-4' parent=21501 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x101276dc0>
    └ <SpawnProcess name='SpawnProcess-4' parent=21501 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1014c83a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-4' parent=21501 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-4' parent=21501 started>
    │    └ <function subprocess_started at 0x102a2b790>
    └ <SpawnProcess name='SpawnProcess-4' parent=21501 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1014c83d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x102a25ca0>
           │       │   └ <uvicorn.server.Server object at 0x1014c83d0>
           │       └ <function run at 0x1014db940>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x104741bc0>
           │    └ <function BaseEventLoop.run_until_complete at 0x101a6fa60>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x101a6f9d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x101a72550>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x1019f71f0>
    └ <Handle <TaskWakeupMethWrapper object at 0x104996910>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x104996910>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x104996910>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x104996910>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f9e700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x104956ee0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x104956ee0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x104801f70>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f9e700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x104956ee0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x104956ee0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x104956ee0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x104956ee0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x104949e20>
          └ <fastapi.applications.FastAPI object at 0x104801f70>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1049483a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x104956ee0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x104949d90>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x104949e20>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x104948430>
                     │    │             └ <starlette.requests.Request object at 0x1049684f0>
                     │    └ <function body_logging at 0x1049240d0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x104949d90>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 61, in body_logging
    if request.headers['content-type']:
       │       └ <property object at 0x1027fb400>
       └ <starlette.requests.Request object at 0x1049684f0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/datastructures.py", line 568, in __getitem__
    raise KeyError(key)
                   └ 'content-type'

KeyError: 'content-type'
ERROR     Exception in ASGI application
 
 2023-07-27 14:40:13 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x1014a7ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x101279790>
           └ <SpawnProcess name='SpawnProcess-4' parent=21501 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x101276dc0>
    └ <SpawnProcess name='SpawnProcess-4' parent=21501 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1014c83a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-4' parent=21501 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-4' parent=21501 started>
    │    └ <function subprocess_started at 0x102a2b790>
    └ <SpawnProcess name='SpawnProcess-4' parent=21501 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1014c83d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x102a25ca0>
           │       │   └ <uvicorn.server.Server object at 0x1014c83d0>
           │       └ <function run at 0x1014db940>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x104741bc0>
           │    └ <function BaseEventLoop.run_until_complete at 0x101a6fa60>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x101a6f9d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x101a72550>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x1019f71f0>
    └ <Handle <TaskWakeupMethWrapper object at 0x104996d90>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x104996d90>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x104996d90>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x104996d90>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f9e700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1049927f0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1049927f0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x104801f70>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f9e700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1049927f0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1049927f0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1049927f0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1049927f0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x104949e20>
          └ <fastapi.applications.FastAPI object at 0x104801f70>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x104948310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1049927f0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x104949d90>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x104949e20>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10497b3a0>
                     │    │             └ <starlette.requests.Request object at 0x1049923a0>
                     │    └ <function body_logging at 0x1049240d0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x104949d90>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 61, in body_logging
    if request.headers['content-type']:
       │       └ <property object at 0x1027fb400>
       └ <starlette.requests.Request object at 0x1049923a0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/datastructures.py", line 568, in __getitem__
    raise KeyError(key)
                   └ 'content-type'

KeyError: 'content-type'
ERROR     Exception in ASGI application
 
 2023-07-27 14:40:13 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x1014a7ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x101279790>
           └ <SpawnProcess name='SpawnProcess-4' parent=21501 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x101276dc0>
    └ <SpawnProcess name='SpawnProcess-4' parent=21501 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1014c83a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-4' parent=21501 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-4' parent=21501 started>
    │    └ <function subprocess_started at 0x102a2b790>
    └ <SpawnProcess name='SpawnProcess-4' parent=21501 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1014c83d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x102a25ca0>
           │       │   └ <uvicorn.server.Server object at 0x1014c83d0>
           │       └ <function run at 0x1014db940>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x104741bc0>
           │    └ <function BaseEventLoop.run_until_complete at 0x101a6fa60>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x101a6f9d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x101a72550>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x1019f71f0>
    └ <Handle <TaskWakeupMethWrapper object at 0x104996d90>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x104996d90>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x104996d90>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x104996d90>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f9e700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1049927f0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1049927f0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x104801f70>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102f9e700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1049927f0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1049927f0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1049927f0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1049927f0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x104949e20>
          └ <fastapi.applications.FastAPI object at 0x104801f70>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x104948310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1049927f0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x104949d90>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x104949e20>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x10497b3a0>
                     │    │             └ <starlette.requests.Request object at 0x1049923a0>
                     │    └ <function body_logging at 0x1049240d0>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x104949d90>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 61, in body_logging
    if request.headers['content-type']:
       │       └ <property object at 0x1027fb400>
       └ <starlette.requests.Request object at 0x1049923a0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/datastructures.py", line 568, in __getitem__
    raise KeyError(key)
                   └ 'content-type'

KeyError: 'content-type'
ERROR     Traceback (most recent call last):
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/routing.py", line 686, in lifespan
    await receive()
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/lifespan/on.py", line 139, in receive
    return await self.receive_queue.get()
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/queues.py", line 166, in get
    await getter
asyncio.exceptions.CancelledError
 
 2023-07-27 14:43:38 request id: app - uvicorn.lifespan.on: send   
ERROR     Traceback (most recent call last):
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/routing.py", line 686, in lifespan
    await receive()
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/lifespan/on.py", line 139, in receive
    return await self.receive_queue.get()
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/queues.py", line 166, in get
    await getter
asyncio.exceptions.CancelledError
 
 2023-07-27 14:43:38 request id: app - uvicorn.lifespan.on: send   
ERROR     Exception in ASGI application
 
 2023-07-27 14:43:38 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           │    └ <function MemoryObjectReceiveStream.receive_nowait at 0x1065bc550>
           └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
          └ <class 'anyio.WouldBlock'>

anyio.WouldBlock


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x1053cbee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1051ad790>
           └ <SpawnProcess name='SpawnProcess-5' parent=21501 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1051aadc0>
    └ <SpawnProcess name='SpawnProcess-5' parent=21501 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1053ec3a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-5' parent=21501 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-5' parent=21501 started>
    │    └ <function subprocess_started at 0x106933790>
    └ <SpawnProcess name='SpawnProcess-5' parent=21501 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket [closed] fd=-1, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1053ec3d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket [closed] fd=-1, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0>]
           │       │   │    └ <function Server.serve at 0x10692dca0>
           │       │   └ <uvicorn.server.Server object at 0x1053ec3d0>
           │       └ <function run at 0x105400940>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 47, in run
    _cancel_all_tasks(loop)
    │                 └ <_UnixSelectorEventLoop running=True closed=False debug=False>
    └ <function _cancel_all_tasks at 0x105976040>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 63, in _cancel_all_tasks
    loop.run_until_complete(
    │    └ <function BaseEventLoop.run_until_complete at 0x105977a60>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1059779d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10597a550>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x1055ff1f0>
    └ <Handle <TaskWakeupMethWrapper object at 0x108850e80>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x108850e80>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x108850e80>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x108850e80>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x106ea6700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108880a60>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108880a60>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x108709f70>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x106ea6700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108880a60>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108880a60>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108880a60>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108880a60>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x108850c70>
          └ <fastapi.applications.FastAPI object at 0x108709f70>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x108854310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108880a60>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x108850be0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x108850c70>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1088543a0>
                     │    │             └ <starlette.requests.Request object at 0x10885f070>
                     │    └ <function body_logging at 0x108830040>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x108850be0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 51, in body_logging
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10885f070>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1088543a0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
                    │           └ <function MemoryObjectReceiveStream.receive at 0x1065bc5e0>
                    └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/streams/memory.py", line 106, in receive
    await receive_event.wait()
          │             └ <function Event.wait at 0x1088a7310>
          └ <anyio._backends._asyncio.Event object at 0x10885f640>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/locks.py", line 226, in wait
    await fut
          └ <Future cancelled>

asyncio.exceptions.CancelledError
ERROR     Exception in ASGI application
 
 2023-07-27 14:43:38 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           │    └ <function MemoryObjectReceiveStream.receive_nowait at 0x1065bc550>
           └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/streams/memory.py", line 93, in receive_nowait
    raise WouldBlock
          └ <class 'anyio.WouldBlock'>

anyio.WouldBlock


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x1053cbee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1051ad790>
           └ <SpawnProcess name='SpawnProcess-5' parent=21501 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1051aadc0>
    └ <SpawnProcess name='SpawnProcess-5' parent=21501 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1053ec3a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-5' parent=21501 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-5' parent=21501 started>
    │    └ <function subprocess_started at 0x106933790>
    └ <SpawnProcess name='SpawnProcess-5' parent=21501 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket [closed] fd=-1, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1053ec3d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket [closed] fd=-1, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0>]
           │       │   │    └ <function Server.serve at 0x10692dca0>
           │       │   └ <uvicorn.server.Server object at 0x1053ec3d0>
           │       └ <function run at 0x105400940>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 47, in run
    _cancel_all_tasks(loop)
    │                 └ <_UnixSelectorEventLoop running=True closed=False debug=False>
    └ <function _cancel_all_tasks at 0x105976040>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 63, in _cancel_all_tasks
    loop.run_until_complete(
    │    └ <function BaseEventLoop.run_until_complete at 0x105977a60>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1059779d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10597a550>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x1055ff1f0>
    └ <Handle <TaskWakeupMethWrapper object at 0x108850e80>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x108850e80>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x108850e80>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x108850e80>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x106ea6700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108880a60>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108880a60>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x108709f70>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x106ea6700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108880a60>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108880a60>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108880a60>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108880a60>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x108850c70>
          └ <fastapi.applications.FastAPI object at 0x108709f70>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x108854310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108880a60>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x108850be0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x108850c70>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1088543a0>
                     │    │             └ <starlette.requests.Request object at 0x10885f070>
                     │    └ <function body_logging at 0x108830040>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x108850be0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 51, in body_logging
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x10885f070>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1088543a0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
                    │           └ <function MemoryObjectReceiveStream.receive at 0x1065bc5e0>
                    └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/streams/memory.py", line 106, in receive
    await receive_event.wait()
          │             └ <function Event.wait at 0x1088a7310>
          └ <anyio._backends._asyncio.Event object at 0x10885f640>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/locks.py", line 226, in wait
    await fut
          └ <Future cancelled>

asyncio.exceptions.CancelledError
ERROR     Exception in ASGI application
 
 2023-07-27 14:43:59 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x1031bbee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102fbd790>
           └ <SpawnProcess name='SpawnProcess-2' parent=22020 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102fbadc0>
    └ <SpawnProcess name='SpawnProcess-2' parent=22020 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1031dc3a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=22020 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=22020 started>
    │    └ <function subprocess_started at 0x10471f790>
    └ <SpawnProcess name='SpawnProcess-2' parent=22020 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1031dc3d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x104719ca0>
           │       │   └ <uvicorn.server.Server object at 0x1031dc3d0>
           │       └ <function run at 0x1031f0940>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x106615bc0>
           │    └ <function BaseEventLoop.run_until_complete at 0x103467a60>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1034679d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10346a550>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x1033ef1f0>
    └ <Handle <TaskWakeupMethWrapper object at 0x10685aaf0>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10685aaf0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10685aaf0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10685aaf0>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104c92700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10682b8b0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10682b8b0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1066d5f70>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104c92700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10682b8b0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10682b8b0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10682b8b0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10682b8b0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10681ce20>
          └ <fastapi.applications.FastAPI object at 0x1066d5f70>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x106820310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10682b8b0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10681cbe0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10681ce20>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1068203a0>
                     │    │             └ <starlette.requests.Request object at 0x10683f0a0>
                     │    └ <function body_logging at 0x1067f8040>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10681cbe0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 62, in body_logging
    if request.header['content-type'].startswith('multipart'):
       └ <starlette.requests.Request object at 0x10683f0a0>

AttributeError: 'Request' object has no attribute 'header'
ERROR     Exception in ASGI application
 
 2023-07-27 14:43:59 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x1031bbee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102fbd790>
           └ <SpawnProcess name='SpawnProcess-2' parent=22020 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102fbadc0>
    └ <SpawnProcess name='SpawnProcess-2' parent=22020 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1031dc3a0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=22020 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=22020 started>
    │    └ <function subprocess_started at 0x10471f790>
    └ <SpawnProcess name='SpawnProcess-2' parent=22020 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1031dc3d0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x104719ca0>
           │       │   └ <uvicorn.server.Server object at 0x1031dc3d0>
           │       └ <function run at 0x1031f0940>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x106615bc0>
           │    └ <function BaseEventLoop.run_until_complete at 0x103467a60>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1034679d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10346a550>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x1033ef1f0>
    └ <Handle <TaskWakeupMethWrapper object at 0x10685aaf0>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10685aaf0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10685aaf0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10685aaf0>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104c92700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10682b8b0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10682b8b0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1066d5f70>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x104c92700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10682b8b0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10682b8b0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10682b8b0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10682b8b0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10681ce20>
          └ <fastapi.applications.FastAPI object at 0x1066d5f70>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x106820310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10682b8b0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10681cbe0>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10681ce20>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x1068203a0>
                     │    │             └ <starlette.requests.Request object at 0x10683f0a0>
                     │    └ <function body_logging at 0x1067f8040>
                     └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10681cbe0>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 62, in body_logging
    if request.header['content-type'].startswith('multipart'):
       └ <starlette.requests.Request object at 0x10683f0a0>

AttributeError: 'Request' object has no attribute 'header'
ERROR     Exception in ASGI application
 
 2023-07-27 14:49:33 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x100f33ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x100d15790>
           └ <SpawnProcess name='SpawnProcess-8' parent=22020 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x100d12dc0>
    └ <SpawnProcess name='SpawnProcess-8' parent=22020 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x100f543d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-8' parent=22020 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-8' parent=22020 started>
    │    └ <function subprocess_started at 0x10249b790>
    └ <SpawnProcess name='SpawnProcess-8' parent=22020 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x100f54400>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x102495ca0>
           │       │   └ <uvicorn.server.Server object at 0x100f54400>
           │       └ <function run at 0x100f68940>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1041b1bc0>
           │    └ <function BaseEventLoop.run_until_complete at 0x1014dfa60>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1014df9d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1014e2550>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10148f1f0>
    └ <Handle <TaskWakeupMethWrapper object at 0x104402ee0>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x104402ee0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x104402ee0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x104402ee0>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102a0e6d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1043c7820>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1043c7820>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x104271f40>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102a0e6d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1043c7820>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1043c7820>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1043c7820>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1043c7820>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1043bac10>
          └ <fastapi.applications.FastAPI object at 0x104271f40>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1043b8310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1043c7820>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1043bad90>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1043bac10>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 109, in __call__
    await response(scope, receive, send)
          │        │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1043b8310>
          │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1043c7820>>
          │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <starlette.responses.Response object at 0x1044020d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/responses.py", line 171, in __call__
    await send({"type": "http.response.body", "body": self.body})
          │                                           │    └ b'image bytes data'
          │                                           └ <starlette.responses.Response object at 0x1044020d0>
          └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1043b8310>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in _send
    await send(message)
          │    └ {'type': 'http.response.body', 'body': b'image bytes data'}
          └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1043c7820>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 538, in send
    output = self.conn.send(event)
             │    │    │    └ EndOfMessage(headers=<Headers([])>)
             │    │    └ <function Connection.send at 0x1043531f0>
             │    └ <h11._connection.Connection object at 0x1043badf0>
             └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1043c7820>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/h11/_connection.py", line 512, in send
    data_list = self.send_with_data_passthrough(event)
                │    │                          └ EndOfMessage(headers=<Headers([])>)
                │    └ <function Connection.send_with_data_passthrough at 0x104353280>
                └ <h11._connection.Connection object at 0x1043badf0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/h11/_connection.py", line 545, in send_with_data_passthrough
    writer(event, data_list.append)
    │      │      │         └ <method 'append' of 'list' objects>
    │      │      └ []
    │      └ EndOfMessage(headers=<Headers([])>)
    └ <h11._writers.ContentLengthWriter object at 0x1043f69d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/h11/_writers.py", line 67, in __call__
    self.send_eom(event.headers, write)
    │    │        │     │        └ <built-in method append of list object at 0x104410bc0>
    │    │        │     └ <member 'headers' of 'EndOfMessage' objects>
    │    │        └ EndOfMessage(headers=<Headers([])>)
    │    └ <function ContentLengthWriter.send_eom at 0x10436c5e0>
    └ <h11._writers.ContentLengthWriter object at 0x1043f69d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/h11/_writers.py", line 96, in send_eom
    raise LocalProtocolError("Too little data for declared Content-Length")
          └ <class 'h11._util.LocalProtocolError'>

h11._util.LocalProtocolError: Too little data for declared Content-Length
ERROR     Exception in ASGI application
 
 2023-07-27 14:49:33 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x100f33ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x100d15790>
           └ <SpawnProcess name='SpawnProcess-8' parent=22020 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x100d12dc0>
    └ <SpawnProcess name='SpawnProcess-8' parent=22020 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x100f543d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-8' parent=22020 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-8' parent=22020 started>
    │    └ <function subprocess_started at 0x10249b790>
    └ <SpawnProcess name='SpawnProcess-8' parent=22020 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x100f54400>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x102495ca0>
           │       │   └ <uvicorn.server.Server object at 0x100f54400>
           │       └ <function run at 0x100f68940>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1041b1bc0>
           │    └ <function BaseEventLoop.run_until_complete at 0x1014dfa60>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1014df9d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1014e2550>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10148f1f0>
    └ <Handle <TaskWakeupMethWrapper object at 0x104402ee0>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x104402ee0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x104402ee0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x104402ee0>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102a0e6d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1043c7820>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1043c7820>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x104271f40>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x102a0e6d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1043c7820>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1043c7820>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1043c7820>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1043c7820>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1043bac10>
          └ <fastapi.applications.FastAPI object at 0x104271f40>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1043b8310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1043c7820>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1043bad90>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1043bac10>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 109, in __call__
    await response(scope, receive, send)
          │        │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1043b8310>
          │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1043c7820>>
          │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <starlette.responses.Response object at 0x1044020d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/responses.py", line 171, in __call__
    await send({"type": "http.response.body", "body": self.body})
          │                                           │    └ b'image bytes data'
          │                                           └ <starlette.responses.Response object at 0x1044020d0>
          └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1043b8310>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in _send
    await send(message)
          │    └ {'type': 'http.response.body', 'body': b'image bytes data'}
          └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1043c7820>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 538, in send
    output = self.conn.send(event)
             │    │    │    └ EndOfMessage(headers=<Headers([])>)
             │    │    └ <function Connection.send at 0x1043531f0>
             │    └ <h11._connection.Connection object at 0x1043badf0>
             └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1043c7820>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/h11/_connection.py", line 512, in send
    data_list = self.send_with_data_passthrough(event)
                │    │                          └ EndOfMessage(headers=<Headers([])>)
                │    └ <function Connection.send_with_data_passthrough at 0x104353280>
                └ <h11._connection.Connection object at 0x1043badf0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/h11/_connection.py", line 545, in send_with_data_passthrough
    writer(event, data_list.append)
    │      │      │         └ <method 'append' of 'list' objects>
    │      │      └ []
    │      └ EndOfMessage(headers=<Headers([])>)
    └ <h11._writers.ContentLengthWriter object at 0x1043f69d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/h11/_writers.py", line 67, in __call__
    self.send_eom(event.headers, write)
    │    │        │     │        └ <built-in method append of list object at 0x104410bc0>
    │    │        │     └ <member 'headers' of 'EndOfMessage' objects>
    │    │        └ EndOfMessage(headers=<Headers([])>)
    │    └ <function ContentLengthWriter.send_eom at 0x10436c5e0>
    └ <h11._writers.ContentLengthWriter object at 0x1043f69d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/h11/_writers.py", line 96, in send_eom
    raise LocalProtocolError("Too little data for declared Content-Length")
          └ <class 'h11._util.LocalProtocolError'>

h11._util.LocalProtocolError: Too little data for declared Content-Length
ERROR     Exception in ASGI application
 
 2023-07-27 14:52:09 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x104a37ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104839790>
           └ <SpawnProcess name='SpawnProcess-9' parent=22020 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104836dc0>
    └ <SpawnProcess name='SpawnProcess-9' parent=22020 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104a583d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-9' parent=22020 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-9' parent=22020 started>
    │    └ <function subprocess_started at 0x105fbf700>
    └ <SpawnProcess name='SpawnProcess-9' parent=22020 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104a58400>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x105fb9c10>
           │       │   └ <uvicorn.server.Server object at 0x104a58400>
           │       └ <function run at 0x104a6c8b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x107c1cbc0>
           │    └ <function BaseEventLoop.run_until_complete at 0x1050039d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x105003940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1050074c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x104f9f160>
    └ <Handle <TaskWakeupMethWrapper object at 0x110bee0a0>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x110bee0a0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x110bee0a0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x110bee0a0>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1065326d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x110bb4820>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x110bb4820>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x107d89f40>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1065326d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x110bb4820>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x110bb4820>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x110bb4820>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x110bb4820>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x110ba6d90>
          └ <fastapi.applications.FastAPI object at 0x107d89f40>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x110ba9310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x110bb4820>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x110ba6d00>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x110ba6d90>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 109, in __call__
    await response(scope, receive, send)
          │        │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x110ba9310>
          │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x110bb4820>>
          │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <starlette.responses.Response object at 0x110bee0d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/responses.py", line 171, in __call__
    await send({"type": "http.response.body", "body": self.body})
          │                                           │    └ b'image bytes data'
          │                                           └ <starlette.responses.Response object at 0x110bee0d0>
          └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x110ba9310>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in _send
    await send(message)
          │    └ {'type': 'http.response.body', 'body': b'image bytes data'}
          └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x110bb4820>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 538, in send
    output = self.conn.send(event)
             │    │    │    └ EndOfMessage(headers=<Headers([])>)
             │    │    └ <function Connection.send at 0x107dbf160>
             │    └ <h11._connection.Connection object at 0x110ba6ac0>
             └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x110bb4820>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/h11/_connection.py", line 512, in send
    data_list = self.send_with_data_passthrough(event)
                │    │                          └ EndOfMessage(headers=<Headers([])>)
                │    └ <function Connection.send_with_data_passthrough at 0x107dbf1f0>
                └ <h11._connection.Connection object at 0x110ba6ac0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/h11/_connection.py", line 545, in send_with_data_passthrough
    writer(event, data_list.append)
    │      │      │         └ <method 'append' of 'list' objects>
    │      │      └ []
    │      └ EndOfMessage(headers=<Headers([])>)
    └ <h11._writers.ContentLengthWriter object at 0x110bee790>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/h11/_writers.py", line 67, in __call__
    self.send_eom(event.headers, write)
    │    │        │     │        └ <built-in method append of list object at 0x110bfca40>
    │    │        │     └ <member 'headers' of 'EndOfMessage' objects>
    │    │        └ EndOfMessage(headers=<Headers([])>)
    │    └ <function ContentLengthWriter.send_eom at 0x110b6a550>
    └ <h11._writers.ContentLengthWriter object at 0x110bee790>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/h11/_writers.py", line 96, in send_eom
    raise LocalProtocolError("Too little data for declared Content-Length")
          └ <class 'h11._util.LocalProtocolError'>

h11._util.LocalProtocolError: Too little data for declared Content-Length
ERROR     Exception in ASGI application
 
 2023-07-27 14:52:09 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x104a37ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104839790>
           └ <SpawnProcess name='SpawnProcess-9' parent=22020 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104836dc0>
    └ <SpawnProcess name='SpawnProcess-9' parent=22020 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104a583d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-9' parent=22020 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-9' parent=22020 started>
    │    └ <function subprocess_started at 0x105fbf700>
    └ <SpawnProcess name='SpawnProcess-9' parent=22020 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104a58400>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x105fb9c10>
           │       │   └ <uvicorn.server.Server object at 0x104a58400>
           │       └ <function run at 0x104a6c8b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x107c1cbc0>
           │    └ <function BaseEventLoop.run_until_complete at 0x1050039d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x105003940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1050074c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x104f9f160>
    └ <Handle <TaskWakeupMethWrapper object at 0x110bee0a0>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x110bee0a0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x110bee0a0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x110bee0a0>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1065326d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x110bb4820>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x110bb4820>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x107d89f40>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1065326d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x110bb4820>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x110bb4820>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x110bb4820>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x110bb4820>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x110ba6d90>
          └ <fastapi.applications.FastAPI object at 0x107d89f40>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x110ba9310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x110bb4820>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x110ba6d00>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x110ba6d90>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 109, in __call__
    await response(scope, receive, send)
          │        │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x110ba9310>
          │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x110bb4820>>
          │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <starlette.responses.Response object at 0x110bee0d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/responses.py", line 171, in __call__
    await send({"type": "http.response.body", "body": self.body})
          │                                           │    └ b'image bytes data'
          │                                           └ <starlette.responses.Response object at 0x110bee0d0>
          └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x110ba9310>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in _send
    await send(message)
          │    └ {'type': 'http.response.body', 'body': b'image bytes data'}
          └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x110bb4820>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 538, in send
    output = self.conn.send(event)
             │    │    │    └ EndOfMessage(headers=<Headers([])>)
             │    │    └ <function Connection.send at 0x107dbf160>
             │    └ <h11._connection.Connection object at 0x110ba6ac0>
             └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x110bb4820>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/h11/_connection.py", line 512, in send
    data_list = self.send_with_data_passthrough(event)
                │    │                          └ EndOfMessage(headers=<Headers([])>)
                │    └ <function Connection.send_with_data_passthrough at 0x107dbf1f0>
                └ <h11._connection.Connection object at 0x110ba6ac0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/h11/_connection.py", line 545, in send_with_data_passthrough
    writer(event, data_list.append)
    │      │      │         └ <method 'append' of 'list' objects>
    │      │      └ []
    │      └ EndOfMessage(headers=<Headers([])>)
    └ <h11._writers.ContentLengthWriter object at 0x110bee790>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/h11/_writers.py", line 67, in __call__
    self.send_eom(event.headers, write)
    │    │        │     │        └ <built-in method append of list object at 0x110bfca40>
    │    │        │     └ <member 'headers' of 'EndOfMessage' objects>
    │    │        └ EndOfMessage(headers=<Headers([])>)
    │    └ <function ContentLengthWriter.send_eom at 0x110b6a550>
    └ <h11._writers.ContentLengthWriter object at 0x110bee790>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/h11/_writers.py", line 96, in send_eom
    raise LocalProtocolError("Too little data for declared Content-Length")
          └ <class 'h11._util.LocalProtocolError'>

h11._util.LocalProtocolError: Too little data for declared Content-Length
ERROR     Exception in ASGI application
 
 2023-07-27 14:52:51 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x102ccbee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102aad790>
           └ <SpawnProcess name='SpawnProcess-10' parent=22020 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102aaadc0>
    └ <SpawnProcess name='SpawnProcess-10' parent=22020 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x102cec3d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-10' parent=22020 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-10' parent=22020 started>
    │    └ <function subprocess_started at 0x104233790>
    └ <SpawnProcess name='SpawnProcess-10' parent=22020 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x102cec400>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x10422dca0>
           │       │   └ <uvicorn.server.Server object at 0x102cec400>
           │       └ <function run at 0x102d00940>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x105f49bc0>
           │    └ <function BaseEventLoop.run_until_complete at 0x103277a60>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1032779d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10327a550>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x1032271f0>
    └ <Handle <TaskWakeupMethWrapper object at 0x10619b910>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10619b910>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10619b910>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10619b910>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1047a66d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10615e820>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10615e820>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10600af40>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1047a66d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10615e820>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10615e820>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10615e820>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10615e820>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x106153d90>
          └ <fastapi.applications.FastAPI object at 0x10600af40>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1061513a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10615e820>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x106153d00>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x106153d90>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 109, in __call__
    await response(scope, receive, send)
          │        │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1061513a0>
          │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10615e820>>
          │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <starlette.responses.Response object at 0x10619b0d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/responses.py", line 174, in __call__
    await self.background()
          │    └ <starlette.background.BackgroundTask object at 0x106174550>
          └ <starlette.responses.Response object at 0x10619b0d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/background.py", line 28, in __call__
    await run_in_threadpool(self.func, *self.args, **self.kwargs)
          │                 │    │      │    │       │    └ {}
          │                 │    │      │    │       └ <starlette.background.BackgroundTask object at 0x106174550>
          │                 │    │      │    └ ('{ \n  "id" : 1,\n  "title" : "FastAPI Book Launch",\n  "image" : "https:linktomyimage.com/image.png",\n  "description" : "W...
          │                 │    │      └ <starlette.background.BackgroundTask object at 0x106174550>
          │                 │    └ <function log_info at 0x106122ee0>
          │                 └ <starlette.background.BackgroundTask object at 0x106174550>
          └ <function run_in_threadpool at 0x103bed700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ('{ \n  "id" : 1,\n  "title" : "FastAPI Book Launch",\n  "image" : "https:linktomyimage.com/image.png",\n  "description" : "W...
                 │     │         │        └ <function log_info at 0x106122ee0>
                 │     │         └ <function run_sync at 0x103c045e0>
                 │     └ <module 'anyio.to_thread' from '/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/to_thre...
                 └ <module 'anyio' from '/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x103bfbf70>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=TypeError('can only concatenate str (not "bytes") to str')>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ('{ \n  "id" : 1,\n  "title" : "FastAPI Book Launch",\n  "image" : "https:linktomyimage.com/image.png",\n  "description" : "W...
             │       │   └ <function log_info at 0x106122ee0>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x1060bd900>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 27, in log_info
    logging.info("req: "+req_body+" res: "+res_body)
    │       │            │                 └ b'RIFF\xe4\x1a\x00\x00WEBPVP8X\n\x00\x00\x00\x12\x00\x00\x00\xdb\x01\x00\x17\x01\x00ANIM\x06\x00\x00\x00\xff\xff\xff\xff\x00\...
    │       │            └ '{ \n  "id" : 1,\n  "title" : "FastAPI Book Launch",\n  "image" : "https:linktomyimage.com/image.png",\n  "description" : "We...
    │       └ <function info at 0x102dc6820>
    └ <module 'logging' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...

TypeError: can only concatenate str (not "bytes") to str
ERROR     Exception in ASGI application
 
 2023-07-27 14:52:51 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x102ccbee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x102aad790>
           └ <SpawnProcess name='SpawnProcess-10' parent=22020 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x102aaadc0>
    └ <SpawnProcess name='SpawnProcess-10' parent=22020 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x102cec3d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-10' parent=22020 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-10' parent=22020 started>
    │    └ <function subprocess_started at 0x104233790>
    └ <SpawnProcess name='SpawnProcess-10' parent=22020 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x102cec400>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x10422dca0>
           │       │   └ <uvicorn.server.Server object at 0x102cec400>
           │       └ <function run at 0x102d00940>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x105f49bc0>
           │    └ <function BaseEventLoop.run_until_complete at 0x103277a60>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1032779d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10327a550>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x1032271f0>
    └ <Handle <TaskWakeupMethWrapper object at 0x10619b910>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10619b910>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10619b910>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10619b910>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1047a66d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10615e820>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10615e820>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x10600af40>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1047a66d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10615e820>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10615e820>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10615e820>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10615e820>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x106153d90>
          └ <fastapi.applications.FastAPI object at 0x10600af40>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1061513a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10615e820>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x106153d00>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x106153d90>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 109, in __call__
    await response(scope, receive, send)
          │        │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1061513a0>
          │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10615e820>>
          │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <starlette.responses.Response object at 0x10619b0d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/responses.py", line 174, in __call__
    await self.background()
          │    └ <starlette.background.BackgroundTask object at 0x106174550>
          └ <starlette.responses.Response object at 0x10619b0d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/background.py", line 28, in __call__
    await run_in_threadpool(self.func, *self.args, **self.kwargs)
          │                 │    │      │    │       │    └ {}
          │                 │    │      │    │       └ <starlette.background.BackgroundTask object at 0x106174550>
          │                 │    │      │    └ ('{ \n  "id" : 1,\n  "title" : "FastAPI Book Launch",\n  "image" : "https:linktomyimage.com/image.png",\n  "description" : "W...
          │                 │    │      └ <starlette.background.BackgroundTask object at 0x106174550>
          │                 │    └ <function log_info at 0x106122ee0>
          │                 └ <starlette.background.BackgroundTask object at 0x106174550>
          └ <function run_in_threadpool at 0x103bed700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ('{ \n  "id" : 1,\n  "title" : "FastAPI Book Launch",\n  "image" : "https:linktomyimage.com/image.png",\n  "description" : "W...
                 │     │         │        └ <function log_info at 0x106122ee0>
                 │     │         └ <function run_sync at 0x103c045e0>
                 │     └ <module 'anyio.to_thread' from '/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/to_thre...
                 └ <module 'anyio' from '/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x103bfbf70>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=TypeError('can only concatenate str (not "bytes") to str')>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ('{ \n  "id" : 1,\n  "title" : "FastAPI Book Launch",\n  "image" : "https:linktomyimage.com/image.png",\n  "description" : "W...
             │       │   └ <function log_info at 0x106122ee0>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x1060bd900>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 27, in log_info
    logging.info("req: "+req_body+" res: "+res_body)
    │       │            │                 └ b'RIFF\xe4\x1a\x00\x00WEBPVP8X\n\x00\x00\x00\x12\x00\x00\x00\xdb\x01\x00\x17\x01\x00ANIM\x06\x00\x00\x00\xff\xff\xff\xff\x00\...
    │       │            └ '{ \n  "id" : 1,\n  "title" : "FastAPI Book Launch",\n  "image" : "https:linktomyimage.com/image.png",\n  "description" : "We...
    │       └ <function info at 0x102dc6820>
    └ <module 'logging' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...

TypeError: can only concatenate str (not "bytes") to str
ERROR     Exception in ASGI application
 
 2023-07-27 14:54:04 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x104c07ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1049d9790>
           └ <SpawnProcess name='SpawnProcess-2' parent=22838 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1049d6dc0>
    └ <SpawnProcess name='SpawnProcess-2' parent=22838 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104c283d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=22838 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=22838 started>
    │    └ <function subprocess_started at 0x10617f790>
    └ <SpawnProcess name='SpawnProcess-2' parent=22838 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104c28400>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x106179ca0>
           │       │   └ <uvicorn.server.Server object at 0x104c28400>
           │       └ <function run at 0x104c3c940>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x107e95bc0>
           │    └ <function BaseEventLoop.run_until_complete at 0x1051c3a60>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1051c39d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1051c6550>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10515f1f0>
    └ <Handle <TaskWakeupMethWrapper object at 0x1080e6e80>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x1080e6e80>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x1080e6e80>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x1080e6e80>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1066f26d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1080ae820>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1080ae820>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x107f55f40>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1066f26d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1080ae820>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1080ae820>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1080ae820>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1080ae820>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10809fd90>
          └ <fastapi.applications.FastAPI object at 0x107f55f40>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10809c310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1080ae820>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10809fd00>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10809fd90>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 109, in __call__
    await response(scope, receive, send)
          │        │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10809c310>
          │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1080ae820>>
          │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <starlette.responses.Response object at 0x1080e6250>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/responses.py", line 171, in __call__
    await send({"type": "http.response.body", "body": self.body})
          │                                           │    └ b'image bytes data'
          │                                           └ <starlette.responses.Response object at 0x1080e6250>
          └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10809c310>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in _send
    await send(message)
          │    └ {'type': 'http.response.body', 'body': b'image bytes data'}
          └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1080ae820>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 538, in send
    output = self.conn.send(event)
             │    │    │    └ EndOfMessage(headers=<Headers([])>)
             │    │    └ <function Connection.send at 0x1080371f0>
             │    └ <h11._connection.Connection object at 0x10809fb20>
             └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1080ae820>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/h11/_connection.py", line 512, in send
    data_list = self.send_with_data_passthrough(event)
                │    │                          └ EndOfMessage(headers=<Headers([])>)
                │    └ <function Connection.send_with_data_passthrough at 0x108037280>
                └ <h11._connection.Connection object at 0x10809fb20>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/h11/_connection.py", line 545, in send_with_data_passthrough
    writer(event, data_list.append)
    │      │      │         └ <method 'append' of 'list' objects>
    │      │      └ []
    │      └ EndOfMessage(headers=<Headers([])>)
    └ <h11._writers.ContentLengthWriter object at 0x1080e6580>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/h11/_writers.py", line 67, in __call__
    self.send_eom(event.headers, write)
    │    │        │     │        └ <built-in method append of list object at 0x1080f4a40>
    │    │        │     └ <member 'headers' of 'EndOfMessage' objects>
    │    │        └ EndOfMessage(headers=<Headers([])>)
    │    └ <function ContentLengthWriter.send_eom at 0x1080505e0>
    └ <h11._writers.ContentLengthWriter object at 0x1080e6580>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/h11/_writers.py", line 96, in send_eom
    raise LocalProtocolError("Too little data for declared Content-Length")
          └ <class 'h11._util.LocalProtocolError'>

h11._util.LocalProtocolError: Too little data for declared Content-Length
ERROR     Exception in ASGI application
 
 2023-07-27 14:54:04 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x104c07ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x1049d9790>
           └ <SpawnProcess name='SpawnProcess-2' parent=22838 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1049d6dc0>
    └ <SpawnProcess name='SpawnProcess-2' parent=22838 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104c283d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=22838 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=22838 started>
    │    └ <function subprocess_started at 0x10617f790>
    └ <SpawnProcess name='SpawnProcess-2' parent=22838 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104c28400>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x106179ca0>
           │       │   └ <uvicorn.server.Server object at 0x104c28400>
           │       └ <function run at 0x104c3c940>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x107e95bc0>
           │    └ <function BaseEventLoop.run_until_complete at 0x1051c3a60>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1051c39d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1051c6550>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x10515f1f0>
    └ <Handle <TaskWakeupMethWrapper object at 0x1080e6e80>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x1080e6e80>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x1080e6e80>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x1080e6e80>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1066f26d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1080ae820>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1080ae820>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x107f55f40>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1066f26d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1080ae820>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1080ae820>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1080ae820>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1080ae820>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10809fd90>
          └ <fastapi.applications.FastAPI object at 0x107f55f40>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10809c310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1080ae820>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10809fd00>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x10809fd90>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 109, in __call__
    await response(scope, receive, send)
          │        │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10809c310>
          │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1080ae820>>
          │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <starlette.responses.Response object at 0x1080e6250>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/responses.py", line 171, in __call__
    await send({"type": "http.response.body", "body": self.body})
          │                                           │    └ b'image bytes data'
          │                                           └ <starlette.responses.Response object at 0x1080e6250>
          └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x10809c310>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in _send
    await send(message)
          │    └ {'type': 'http.response.body', 'body': b'image bytes data'}
          └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1080ae820>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 538, in send
    output = self.conn.send(event)
             │    │    │    └ EndOfMessage(headers=<Headers([])>)
             │    │    └ <function Connection.send at 0x1080371f0>
             │    └ <h11._connection.Connection object at 0x10809fb20>
             └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1080ae820>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/h11/_connection.py", line 512, in send
    data_list = self.send_with_data_passthrough(event)
                │    │                          └ EndOfMessage(headers=<Headers([])>)
                │    └ <function Connection.send_with_data_passthrough at 0x108037280>
                └ <h11._connection.Connection object at 0x10809fb20>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/h11/_connection.py", line 545, in send_with_data_passthrough
    writer(event, data_list.append)
    │      │      │         └ <method 'append' of 'list' objects>
    │      │      └ []
    │      └ EndOfMessage(headers=<Headers([])>)
    └ <h11._writers.ContentLengthWriter object at 0x1080e6580>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/h11/_writers.py", line 67, in __call__
    self.send_eom(event.headers, write)
    │    │        │     │        └ <built-in method append of list object at 0x1080f4a40>
    │    │        │     └ <member 'headers' of 'EndOfMessage' objects>
    │    │        └ EndOfMessage(headers=<Headers([])>)
    │    └ <function ContentLengthWriter.send_eom at 0x1080505e0>
    └ <h11._writers.ContentLengthWriter object at 0x1080e6580>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/h11/_writers.py", line 96, in send_eom
    raise LocalProtocolError("Too little data for declared Content-Length")
          └ <class 'h11._util.LocalProtocolError'>

h11._util.LocalProtocolError: Too little data for declared Content-Length
ERROR     Exception in ASGI application
 
 2023-07-27 14:57:11 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x105587ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x105369790>
           └ <SpawnProcess name='SpawnProcess-2' parent=23060 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x105366dc0>
    └ <SpawnProcess name='SpawnProcess-2' parent=23060 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1055a83d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=23060 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=23060 started>
    │    └ <function subprocess_started at 0x106aef790>
    └ <SpawnProcess name='SpawnProcess-2' parent=23060 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1055a8400>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x106ae9ca0>
           │       │   └ <uvicorn.server.Server object at 0x1055a8400>
           │       └ <function run at 0x1055bc940>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1101bdbc0>
           │    └ <function BaseEventLoop.run_until_complete at 0x105b33a60>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x105b339d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x105b36550>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x105ae31f0>
    └ <Handle <TaskWakeupMethWrapper object at 0x110eab7c0>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x110eab7c0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x110eab7c0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x110eab7c0>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1070626d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1103d41c0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1103d41c0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x110329f40>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1070626d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1103d41c0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1103d41c0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1103d41c0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1103d41c0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1103c7be0>
          └ <fastapi.applications.FastAPI object at 0x110329f40>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1103c9dc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1103d41c0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1103c7b50>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1103c7be0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 109, in __call__
    await response(scope, receive, send)
          │        │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1103c9dc0>
          │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1103d41c0>>
          │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <starlette.responses.Response object at 0x1103d4730>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/responses.py", line 171, in __call__
    await send({"type": "http.response.body", "body": self.body})
          │                                           │    └ b'image bytes data'
          │                                           └ <starlette.responses.Response object at 0x1103d4730>
          └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1103c9dc0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in _send
    await send(message)
          │    └ {'type': 'http.response.body', 'body': b'image bytes data'}
          └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1103d41c0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 538, in send
    output = self.conn.send(event)
             │    │    │    └ EndOfMessage(headers=<Headers([])>)
             │    │    └ <function Connection.send at 0x11035f1f0>
             │    └ <h11._connection.Connection object at 0x110e9eac0>
             └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1103d41c0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/h11/_connection.py", line 512, in send
    data_list = self.send_with_data_passthrough(event)
                │    │                          └ EndOfMessage(headers=<Headers([])>)
                │    └ <function Connection.send_with_data_passthrough at 0x11035f280>
                └ <h11._connection.Connection object at 0x110e9eac0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/h11/_connection.py", line 545, in send_with_data_passthrough
    writer(event, data_list.append)
    │      │      │         └ <method 'append' of 'list' objects>
    │      │      └ []
    │      └ EndOfMessage(headers=<Headers([])>)
    └ <h11._writers.ContentLengthWriter object at 0x110eab250>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/h11/_writers.py", line 67, in __call__
    self.send_eom(event.headers, write)
    │    │        │     │        └ <built-in method append of list object at 0x1103d33c0>
    │    │        │     └ <member 'headers' of 'EndOfMessage' objects>
    │    │        └ EndOfMessage(headers=<Headers([])>)
    │    └ <function ContentLengthWriter.send_eom at 0x1103775e0>
    └ <h11._writers.ContentLengthWriter object at 0x110eab250>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/h11/_writers.py", line 96, in send_eom
    raise LocalProtocolError("Too little data for declared Content-Length")
          └ <class 'h11._util.LocalProtocolError'>

h11._util.LocalProtocolError: Too little data for declared Content-Length
ERROR     Exception in ASGI application
 
 2023-07-27 14:57:12 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x105587ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x105369790>
           └ <SpawnProcess name='SpawnProcess-2' parent=23060 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x105366dc0>
    └ <SpawnProcess name='SpawnProcess-2' parent=23060 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1055a83d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=23060 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=23060 started>
    │    └ <function subprocess_started at 0x106aef790>
    └ <SpawnProcess name='SpawnProcess-2' parent=23060 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1055a8400>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x106ae9ca0>
           │       │   └ <uvicorn.server.Server object at 0x1055a8400>
           │       └ <function run at 0x1055bc940>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1101bdbc0>
           │    └ <function BaseEventLoop.run_until_complete at 0x105b33a60>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x105b339d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x105b36550>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x105ae31f0>
    └ <Handle <TaskWakeupMethWrapper object at 0x110eab7c0>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x110eab7c0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x110eab7c0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x110eab7c0>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1070626d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1103d41c0>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1103d41c0>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x110329f40>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1070626d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1103d41c0>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1103d41c0>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1103d41c0>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1103d41c0>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1103c7be0>
          └ <fastapi.applications.FastAPI object at 0x110329f40>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1103c9dc0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1103d41c0>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1103c7b50>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1103c7be0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 109, in __call__
    await response(scope, receive, send)
          │        │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1103c9dc0>
          │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1103d41c0>>
          │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <starlette.responses.Response object at 0x1103d4730>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/responses.py", line 171, in __call__
    await send({"type": "http.response.body", "body": self.body})
          │                                           │    └ b'image bytes data'
          │                                           └ <starlette.responses.Response object at 0x1103d4730>
          └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1103c9dc0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in _send
    await send(message)
          │    └ {'type': 'http.response.body', 'body': b'image bytes data'}
          └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1103d41c0>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 538, in send
    output = self.conn.send(event)
             │    │    │    └ EndOfMessage(headers=<Headers([])>)
             │    │    └ <function Connection.send at 0x11035f1f0>
             │    └ <h11._connection.Connection object at 0x110e9eac0>
             └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1103d41c0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/h11/_connection.py", line 512, in send
    data_list = self.send_with_data_passthrough(event)
                │    │                          └ EndOfMessage(headers=<Headers([])>)
                │    └ <function Connection.send_with_data_passthrough at 0x11035f280>
                └ <h11._connection.Connection object at 0x110e9eac0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/h11/_connection.py", line 545, in send_with_data_passthrough
    writer(event, data_list.append)
    │      │      │         └ <method 'append' of 'list' objects>
    │      │      └ []
    │      └ EndOfMessage(headers=<Headers([])>)
    └ <h11._writers.ContentLengthWriter object at 0x110eab250>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/h11/_writers.py", line 67, in __call__
    self.send_eom(event.headers, write)
    │    │        │     │        └ <built-in method append of list object at 0x1103d33c0>
    │    │        │     └ <member 'headers' of 'EndOfMessage' objects>
    │    │        └ EndOfMessage(headers=<Headers([])>)
    │    └ <function ContentLengthWriter.send_eom at 0x1103775e0>
    └ <h11._writers.ContentLengthWriter object at 0x110eab250>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/h11/_writers.py", line 96, in send_eom
    raise LocalProtocolError("Too little data for declared Content-Length")
          └ <class 'h11._util.LocalProtocolError'>

h11._util.LocalProtocolError: Too little data for declared Content-Length
ERROR     Exception in ASGI application
 
 2023-07-27 14:57:50 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x105597ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x105369790>
           └ <SpawnProcess name='SpawnProcess-3' parent=23060 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x105366dc0>
    └ <SpawnProcess name='SpawnProcess-3' parent=23060 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1055b83d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=23060 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=23060 started>
    │    └ <function subprocess_started at 0x106b1b790>
    └ <SpawnProcess name='SpawnProcess-3' parent=23060 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1055b8400>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x106b15ca0>
           │       │   └ <uvicorn.server.Server object at 0x1055b8400>
           │       └ <function run at 0x1055cc940>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x108832bc0>
           │    └ <function BaseEventLoop.run_until_complete at 0x105b5fa60>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x105b5f9d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x105b62550>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x105ae71f0>
    └ <Handle <TaskWakeupMethWrapper object at 0x108a860a0>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x108a860a0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x108a860a0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x108a860a0>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10708e6d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108a48730>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108a48730>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1088f1f40>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10708e6d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108a48730>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108a48730>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108a48730>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108a48730>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x108a3bd90>
          └ <fastapi.applications.FastAPI object at 0x1088f1f40>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x108a3d3a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108a48730>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x108a3bd00>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x108a3bd90>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 109, in __call__
    await response(scope, receive, send)
          │        │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x108a3d3a0>
          │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108a48730>>
          │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <starlette.responses.Response object at 0x108a86b50>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/responses.py", line 171, in __call__
    await send({"type": "http.response.body", "body": self.body})
          │                                           │    └ b'image bytes data'
          │                                           └ <starlette.responses.Response object at 0x108a86b50>
          └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x108a3d3a0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in _send
    await send(message)
          │    └ {'type': 'http.response.body', 'body': b'image bytes data'}
          └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108a48730>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 538, in send
    output = self.conn.send(event)
             │    │    │    └ EndOfMessage(headers=<Headers([])>)
             │    │    └ <function Connection.send at 0x1089d31f0>
             │    └ <h11._connection.Connection object at 0x108a3bf40>
             └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108a48730>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/h11/_connection.py", line 512, in send
    data_list = self.send_with_data_passthrough(event)
                │    │                          └ EndOfMessage(headers=<Headers([])>)
                │    └ <function Connection.send_with_data_passthrough at 0x1089d3280>
                └ <h11._connection.Connection object at 0x108a3bf40>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/h11/_connection.py", line 545, in send_with_data_passthrough
    writer(event, data_list.append)
    │      │      │         └ <method 'append' of 'list' objects>
    │      │      └ []
    │      └ EndOfMessage(headers=<Headers([])>)
    └ <h11._writers.ContentLengthWriter object at 0x108a76940>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/h11/_writers.py", line 67, in __call__
    self.send_eom(event.headers, write)
    │    │        │     │        └ <built-in method append of list object at 0x108a90c40>
    │    │        │     └ <member 'headers' of 'EndOfMessage' objects>
    │    │        └ EndOfMessage(headers=<Headers([])>)
    │    └ <function ContentLengthWriter.send_eom at 0x1089ec5e0>
    └ <h11._writers.ContentLengthWriter object at 0x108a76940>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/h11/_writers.py", line 96, in send_eom
    raise LocalProtocolError("Too little data for declared Content-Length")
          └ <class 'h11._util.LocalProtocolError'>

h11._util.LocalProtocolError: Too little data for declared Content-Length
ERROR     Exception in ASGI application
 
 2023-07-27 14:57:50 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x105597ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x105369790>
           └ <SpawnProcess name='SpawnProcess-3' parent=23060 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x105366dc0>
    └ <SpawnProcess name='SpawnProcess-3' parent=23060 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1055b83d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-3' parent=23060 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-3' parent=23060 started>
    │    └ <function subprocess_started at 0x106b1b790>
    └ <SpawnProcess name='SpawnProcess-3' parent=23060 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x1055b8400>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x106b15ca0>
           │       │   └ <uvicorn.server.Server object at 0x1055b8400>
           │       └ <function run at 0x1055cc940>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x108832bc0>
           │    └ <function BaseEventLoop.run_until_complete at 0x105b5fa60>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x105b5f9d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x105b62550>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x105ae71f0>
    └ <Handle <TaskWakeupMethWrapper object at 0x108a860a0>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x108a860a0>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x108a860a0>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x108a860a0>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10708e6d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108a48730>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108a48730>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1088f1f40>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10708e6d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108a48730>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108a48730>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108a48730>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108a48730>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x108a3bd90>
          └ <fastapi.applications.FastAPI object at 0x1088f1f40>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x108a3d3a0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108a48730>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x108a3bd00>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x108a3bd90>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 109, in __call__
    await response(scope, receive, send)
          │        │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x108a3d3a0>
          │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108a48730>>
          │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <starlette.responses.Response object at 0x108a86b50>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/responses.py", line 171, in __call__
    await send({"type": "http.response.body", "body": self.body})
          │                                           │    └ b'image bytes data'
          │                                           └ <starlette.responses.Response object at 0x108a86b50>
          └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x108a3d3a0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in _send
    await send(message)
          │    └ {'type': 'http.response.body', 'body': b'image bytes data'}
          └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108a48730>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 538, in send
    output = self.conn.send(event)
             │    │    │    └ EndOfMessage(headers=<Headers([])>)
             │    │    └ <function Connection.send at 0x1089d31f0>
             │    └ <h11._connection.Connection object at 0x108a3bf40>
             └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x108a48730>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/h11/_connection.py", line 512, in send
    data_list = self.send_with_data_passthrough(event)
                │    │                          └ EndOfMessage(headers=<Headers([])>)
                │    └ <function Connection.send_with_data_passthrough at 0x1089d3280>
                └ <h11._connection.Connection object at 0x108a3bf40>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/h11/_connection.py", line 545, in send_with_data_passthrough
    writer(event, data_list.append)
    │      │      │         └ <method 'append' of 'list' objects>
    │      │      └ []
    │      └ EndOfMessage(headers=<Headers([])>)
    └ <h11._writers.ContentLengthWriter object at 0x108a76940>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/h11/_writers.py", line 67, in __call__
    self.send_eom(event.headers, write)
    │    │        │     │        └ <built-in method append of list object at 0x108a90c40>
    │    │        │     └ <member 'headers' of 'EndOfMessage' objects>
    │    │        └ EndOfMessage(headers=<Headers([])>)
    │    └ <function ContentLengthWriter.send_eom at 0x1089ec5e0>
    └ <h11._writers.ContentLengthWriter object at 0x108a76940>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/h11/_writers.py", line 96, in send_eom
    raise LocalProtocolError("Too little data for declared Content-Length")
          └ <class 'h11._util.LocalProtocolError'>

h11._util.LocalProtocolError: Too little data for declared Content-Length
ERROR     Exception in ASGI application
 
 2023-07-27 14:58:18 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x10552fee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x105301790>
           └ <SpawnProcess name='SpawnProcess-4' parent=23060 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1052fedc0>
    └ <SpawnProcess name='SpawnProcess-4' parent=23060 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1055503d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-4' parent=23060 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-4' parent=23060 started>
    │    └ <function subprocess_started at 0x106aab700>
    └ <SpawnProcess name='SpawnProcess-4' parent=23060 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x105550400>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x106aa5c10>
           │       │   └ <uvicorn.server.Server object at 0x105550400>
           │       └ <function run at 0x1055648b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1087c2bc0>
           │    └ <function BaseEventLoop.run_until_complete at 0x1057ef9d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1057ef940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1057f34c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x105777160>
    └ <Handle <TaskWakeupMethWrapper object at 0x108a13850>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x108a13850>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x108a13850>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x108a13850>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10701e6d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1089d6730>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1089d6730>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x108881f40>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10701e6d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1089d6730>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1089d6730>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1089d6730>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1089d6730>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1089cad90>
          └ <fastapi.applications.FastAPI object at 0x108881f40>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1089cc280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1089d6730>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1089cad00>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1089cad90>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 109, in __call__
    await response(scope, receive, send)
          │        │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1089cc280>
          │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1089d6730>>
          │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ {'msg': 'sss'}

TypeError: 'dict' object is not callable
ERROR     Exception in ASGI application
 
 2023-07-27 14:58:18 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x10552fee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x105301790>
           └ <SpawnProcess name='SpawnProcess-4' parent=23060 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x1052fedc0>
    └ <SpawnProcess name='SpawnProcess-4' parent=23060 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x1055503d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-4' parent=23060 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-4' parent=23060 started>
    │    └ <function subprocess_started at 0x106aab700>
    └ <SpawnProcess name='SpawnProcess-4' parent=23060 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x105550400>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x106aa5c10>
           │       │   └ <uvicorn.server.Server object at 0x105550400>
           │       └ <function run at 0x1055648b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1087c2bc0>
           │    └ <function BaseEventLoop.run_until_complete at 0x1057ef9d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x1057ef940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1057f34c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x105777160>
    └ <Handle <TaskWakeupMethWrapper object at 0x108a13850>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x108a13850>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x108a13850>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x108a13850>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10701e6d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1089d6730>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1089d6730>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x108881f40>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10701e6d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1089d6730>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1089d6730>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1089d6730>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1089d6730>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1089cad90>
          └ <fastapi.applications.FastAPI object at 0x108881f40>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1089cc280>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1089d6730>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1089cad00>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1089cad90>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 109, in __call__
    await response(scope, receive, send)
          │        │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1089cc280>
          │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1089d6730>>
          │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ {'msg': 'sss'}

TypeError: 'dict' object is not callable
ERROR     Exception in ASGI application
 
 2023-07-27 14:58:36 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x10497bee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x10475d790>
           └ <SpawnProcess name='SpawnProcess-5' parent=23060 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10475adc0>
    └ <SpawnProcess name='SpawnProcess-5' parent=23060 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10499c3d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-5' parent=23060 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-5' parent=23060 started>
    │    └ <function subprocess_started at 0x105ffb700>
    └ <SpawnProcess name='SpawnProcess-5' parent=23060 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10499c400>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x105ff5c10>
           │       │   └ <uvicorn.server.Server object at 0x10499c400>
           │       └ <function run at 0x1049b08b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x107fc8bc0>
           │    └ <function BaseEventLoop.run_until_complete at 0x104f239d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x104f23940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x104f274c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x104eab160>
    └ <Handle <TaskWakeupMethWrapper object at 0x1101a3670>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x1101a3670>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x1101a3670>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x1101a3670>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10667a6d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x110167730>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x110167730>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1100bdf40>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10667a6d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x110167730>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x110167730>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x110167730>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x110167730>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x11015ac70>
          └ <fastapi.applications.FastAPI object at 0x1100bdf40>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x11015c310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x110167730>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x11015ab50>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x11015ac70>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 109, in __call__
    await response(scope, receive, send)
          │        │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x11015c310>
          │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x110167730>>
          │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ 'aa'

TypeError: 'str' object is not callable
ERROR     Exception in ASGI application
 
 2023-07-27 14:58:36 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x10497bee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x10475d790>
           └ <SpawnProcess name='SpawnProcess-5' parent=23060 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x10475adc0>
    └ <SpawnProcess name='SpawnProcess-5' parent=23060 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x10499c3d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-5' parent=23060 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-5' parent=23060 started>
    │    └ <function subprocess_started at 0x105ffb700>
    └ <SpawnProcess name='SpawnProcess-5' parent=23060 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x10499c400>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x105ff5c10>
           │       │   └ <uvicorn.server.Server object at 0x10499c400>
           │       └ <function run at 0x1049b08b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x107fc8bc0>
           │    └ <function BaseEventLoop.run_until_complete at 0x104f239d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x104f23940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x104f274c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x104eab160>
    └ <Handle <TaskWakeupMethWrapper object at 0x1101a3670>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x1101a3670>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x1101a3670>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x1101a3670>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10667a6d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x110167730>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x110167730>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1100bdf40>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10667a6d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x110167730>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x110167730>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x110167730>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x110167730>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x11015ac70>
          └ <fastapi.applications.FastAPI object at 0x1100bdf40>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x11015c310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x110167730>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x11015ab50>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x11015ac70>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 109, in __call__
    await response(scope, receive, send)
          │        │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x11015c310>
          │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x110167730>>
          │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ 'aa'

TypeError: 'str' object is not callable
ERROR     Exception in ASGI application
 
 2023-07-27 14:58:58 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x104d9fee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104ba1790>
           └ <SpawnProcess name='SpawnProcess-6' parent=23060 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104b9edc0>
    └ <SpawnProcess name='SpawnProcess-6' parent=23060 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104dc03d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=23060 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=23060 started>
    │    └ <function subprocess_started at 0x106303790>
    └ <SpawnProcess name='SpawnProcess-6' parent=23060 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104dc0400>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x1062feca0>
           │       │   └ <uvicorn.server.Server object at 0x104dc0400>
           │       └ <function run at 0x104dd4940>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x108019bc0>
           │    └ <function BaseEventLoop.run_until_complete at 0x10504ba60>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10504b9d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10504e550>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x104fd31f0>
    └ <Handle <TaskWakeupMethWrapper object at 0x10826eb50>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10826eb50>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10826eb50>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10826eb50>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1068766d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10822f730>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10822f730>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1080d9f40>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1068766d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10822f730>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10822f730>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10822f730>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10822f730>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x108223d90>
          └ <fastapi.applications.FastAPI object at 0x1080d9f40>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x108220430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10822f730>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x108223d00>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x108223d90>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 109, in __call__
    await response(scope, receive, send)
          │        │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x108220430>
          │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10822f730>>
          │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <starlette.responses.Response object at 0x10826ec70>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/responses.py", line 174, in __call__
    await self.background()
          │    └ <starlette.background.BackgroundTask object at 0x1082426a0>
          └ <starlette.responses.Response object at 0x10826ec70>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/background.py", line 28, in __call__
    await run_in_threadpool(self.func, *self.args, **self.kwargs)
          │                 │    │      │    │       │    └ {}
          │                 │    │      │    │       └ <starlette.background.BackgroundTask object at 0x1082426a0>
          │                 │    │      │    └ ('', b'RIFF\xe4\x1a\x00\x00WEBPVP8X\n\x00\x00\x00\x12\x00\x00\x00\xdb\x01\x00\x17\x01\x00ANIM\x06\x00\x00\x00\xff\xff\xff\xff...
          │                 │    │      └ <starlette.background.BackgroundTask object at 0x1082426a0>
          │                 │    └ <function log_info at 0x1081f1ee0>
          │                 └ <starlette.background.BackgroundTask object at 0x1082426a0>
          └ <function run_in_threadpool at 0x105cbd700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ('', b'RIFF\xe4\x1a\x00\x00WEBPVP8X\n\x00\x00\x00\x12\x00\x00\x00\xdb\x01\x00\x17\x01\x00ANIM\x06\x00\x00\x00\xff\xff\xff\xff...
                 │     │         │        └ <function log_info at 0x1081f1ee0>
                 │     │         └ <function run_sync at 0x105cd45e0>
                 │     └ <module 'anyio.to_thread' from '/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/to_thre...
                 └ <module 'anyio' from '/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x105ccbf70>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=TypeError('can only concatenate str (not "bytes") to str')>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ('', b'RIFF\xe4\x1a\x00\x00WEBPVP8X\n\x00\x00\x00\x12\x00\x00\x00\xdb\x01\x00\x17\x01\x00ANIM\x06\x00\x00\x00\xff\xff\xff\xff...
             │       │   └ <function log_info at 0x1081f1ee0>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x10822a980>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 27, in log_info
    logging.info("req: "+req_body+" res: "+res_body)
    │       │            │                 └ b'RIFF\xe4\x1a\x00\x00WEBPVP8X\n\x00\x00\x00\x12\x00\x00\x00\xdb\x01\x00\x17\x01\x00ANIM\x06\x00\x00\x00\xff\xff\xff\xff\x00\...
    │       │            └ ''
    │       └ <function info at 0x104e9a820>
    └ <module 'logging' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...

TypeError: can only concatenate str (not "bytes") to str
ERROR     Exception in ASGI application
 
 2023-07-27 14:58:58 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x104d9fee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104ba1790>
           └ <SpawnProcess name='SpawnProcess-6' parent=23060 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104b9edc0>
    └ <SpawnProcess name='SpawnProcess-6' parent=23060 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104dc03d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-6' parent=23060 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-6' parent=23060 started>
    │    └ <function subprocess_started at 0x106303790>
    └ <SpawnProcess name='SpawnProcess-6' parent=23060 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104dc0400>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x1062feca0>
           │       │   └ <uvicorn.server.Server object at 0x104dc0400>
           │       └ <function run at 0x104dd4940>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x108019bc0>
           │    └ <function BaseEventLoop.run_until_complete at 0x10504ba60>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10504b9d0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x10504e550>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x104fd31f0>
    └ <Handle <TaskWakeupMethWrapper object at 0x10826eb50>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x10826eb50>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x10826eb50>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x10826eb50>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1068766d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10822f730>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10822f730>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1080d9f40>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x1068766d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10822f730>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10822f730>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10822f730>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10822f730>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x108223d90>
          └ <fastapi.applications.FastAPI object at 0x1080d9f40>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x108220430>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10822f730>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x108223d00>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x108223d90>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 109, in __call__
    await response(scope, receive, send)
          │        │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x108220430>
          │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x10822f730>>
          │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <starlette.responses.Response object at 0x10826ec70>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/responses.py", line 174, in __call__
    await self.background()
          │    └ <starlette.background.BackgroundTask object at 0x1082426a0>
          └ <starlette.responses.Response object at 0x10826ec70>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/background.py", line 28, in __call__
    await run_in_threadpool(self.func, *self.args, **self.kwargs)
          │                 │    │      │    │       │    └ {}
          │                 │    │      │    │       └ <starlette.background.BackgroundTask object at 0x1082426a0>
          │                 │    │      │    └ ('', b'RIFF\xe4\x1a\x00\x00WEBPVP8X\n\x00\x00\x00\x12\x00\x00\x00\xdb\x01\x00\x17\x01\x00ANIM\x06\x00\x00\x00\xff\xff\xff\xff...
          │                 │    │      └ <starlette.background.BackgroundTask object at 0x1082426a0>
          │                 │    └ <function log_info at 0x1081f1ee0>
          │                 └ <starlette.background.BackgroundTask object at 0x1082426a0>
          └ <function run_in_threadpool at 0x105cbd700>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ('', b'RIFF\xe4\x1a\x00\x00WEBPVP8X\n\x00\x00\x00\x12\x00\x00\x00\xdb\x01\x00\x17\x01\x00ANIM\x06\x00\x00\x00\xff\xff\xff\xff...
                 │     │         │        └ <function log_info at 0x1081f1ee0>
                 │     │         └ <function run_sync at 0x105cd45e0>
                 │     └ <module 'anyio.to_thread' from '/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/to_thre...
                 └ <module 'anyio' from '/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/__init__.py'>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x105ccbf70>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=TypeError('can only concatenate str (not "bytes") to str')>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ('', b'RIFF\xe4\x1a\x00\x00WEBPVP8X\n\x00\x00\x00\x12\x00\x00\x00\xdb\x01\x00\x17\x01\x00ANIM\x06\x00\x00\x00\xff\xff\xff\xff...
             │       │   └ <function log_info at 0x1081f1ee0>
             │       └ <method 'run' of 'Context' objects>
             └ <Context object at 0x10822a980>

  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/main.py", line 27, in log_info
    logging.info("req: "+req_body+" res: "+res_body)
    │       │            │                 └ b'RIFF\xe4\x1a\x00\x00WEBPVP8X\n\x00\x00\x00\x12\x00\x00\x00\xdb\x01\x00\x17\x01\x00ANIM\x06\x00\x00\x00\xff\xff\xff\xff\x00\...
    │       │            └ ''
    │       └ <function info at 0x104e9a820>
    └ <module 'logging' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...

TypeError: can only concatenate str (not "bytes") to str
ERROR     Exception in ASGI application
 
 2023-07-27 15:03:26 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x104e63ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104c45790>
           └ <SpawnProcess name='SpawnProcess-7' parent=23060 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104c42dc0>
    └ <SpawnProcess name='SpawnProcess-7' parent=23060 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104e843d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-7' parent=23060 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-7' parent=23060 started>
    │    └ <function subprocess_started at 0x1063cb700>
    └ <SpawnProcess name='SpawnProcess-7' parent=23060 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104e84400>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x1063c5c10>
           │       │   └ <uvicorn.server.Server object at 0x104e84400>
           │       └ <function run at 0x104e988b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1080e0bc0>
           │    └ <function BaseEventLoop.run_until_complete at 0x10540f9d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10540f940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1054134c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x105397160>
    └ <Handle <TaskWakeupMethWrapper object at 0x108333b50>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x108333b50>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x108333b50>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x108333b50>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10693e6d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1082fb730>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1082fb730>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1081a1f40>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10693e6d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1082fb730>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1082fb730>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1082fb730>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1082fb730>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1082ebd90>
          └ <fastapi.applications.FastAPI object at 0x1081a1f40>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1082ed310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1082fb730>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1082ebd00>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1082ebd90>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 109, in __call__
    await response(scope, receive, send)
          │        │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1082ed310>
          │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1082fb730>>
          │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <starlette.responses.Response object at 0x108333c70>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/responses.py", line 171, in __call__
    await send({"type": "http.response.body", "body": self.body})
          │                                           │    └ b'image bytes data'
          │                                           └ <starlette.responses.Response object at 0x108333c70>
          └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1082ed310>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in _send
    await send(message)
          │    └ {'type': 'http.response.body', 'body': b'image bytes data'}
          └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1082fb730>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 538, in send
    output = self.conn.send(event)
             │    │    │    └ EndOfMessage(headers=<Headers([])>)
             │    │    └ <function Connection.send at 0x108283160>
             │    └ <h11._connection.Connection object at 0x1082eba90>
             └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1082fb730>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/h11/_connection.py", line 512, in send
    data_list = self.send_with_data_passthrough(event)
                │    │                          └ EndOfMessage(headers=<Headers([])>)
                │    └ <function Connection.send_with_data_passthrough at 0x1082831f0>
                └ <h11._connection.Connection object at 0x1082eba90>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/h11/_connection.py", line 545, in send_with_data_passthrough
    writer(event, data_list.append)
    │      │      │         └ <method 'append' of 'list' objects>
    │      │      └ []
    │      └ EndOfMessage(headers=<Headers([])>)
    └ <h11._writers.ContentLengthWriter object at 0x108333190>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/h11/_writers.py", line 67, in __call__
    self.send_eom(event.headers, write)
    │    │        │     │        └ <built-in method append of list object at 0x108340b40>
    │    │        │     └ <member 'headers' of 'EndOfMessage' objects>
    │    │        └ EndOfMessage(headers=<Headers([])>)
    │    └ <function ContentLengthWriter.send_eom at 0x1082ae550>
    └ <h11._writers.ContentLengthWriter object at 0x108333190>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/h11/_writers.py", line 96, in send_eom
    raise LocalProtocolError("Too little data for declared Content-Length")
          └ <class 'h11._util.LocalProtocolError'>

h11._util.LocalProtocolError: Too little data for declared Content-Length
ERROR     Exception in ASGI application
 
 2023-07-27 15:03:26 request id: app - uvicorn.protocols.http.h11_impl: run_asgi   
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 116, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 4
               │     └ 40
               └ <function _main at 0x104e63ee0>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/spawn.py", line 129, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 4
           │    └ <function BaseProcess._bootstrap at 0x104c45790>
           └ <SpawnProcess name='SpawnProcess-7' parent=23060 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 315, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x104c42dc0>
    └ <SpawnProcess name='SpawnProcess-7' parent=23060 started>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x104e843d0>, 'target': <bound method Server.run of <uvicorn.server.Server object...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-7' parent=23060 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-7' parent=23060 started>
    │    └ <function subprocess_started at 0x1063cb700>
    └ <SpawnProcess name='SpawnProcess-7' parent=23060 started>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x104e84400>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=37, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x1063c5c10>
           │       │   └ <uvicorn.server.Server object at 0x104e84400>
           │       └ <function run at 0x104e988b0>
           └ <module 'asyncio' from '/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/pyth...
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
           │    │                  └ <coroutine object Server.serve at 0x1080e0bc0>
           │    └ <function BaseEventLoop.run_until_complete at 0x10540f9d0>
           └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x10540f940>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x1054134c0>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x105397160>
    └ <Handle <TaskWakeupMethWrapper object at 0x108333b50>(<Future finished result=None>)>
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskWakeupMethWrapper object at 0x108333b50>(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskWakeupMethWrapper object at 0x108333b50>(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskWakeupMethWrapper object at 0x108333b50>(<Future finished result=None>)>
> File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 428, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10693e6d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 78, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1082fb730>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1082fb730>>
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x1081a1f40>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x10693e6d0>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/fastapi/applications.py", line 282, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1082fb730>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1082fb730>>
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1082fb730>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1082fb730>>
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1082ebd90>
          └ <fastapi.applications.FastAPI object at 0x1081a1f40>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1082ed310>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1082fb730>>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1082ebd00>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x1082ebd90>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/base.py", line 109, in __call__
    await response(scope, receive, send)
          │        │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1082ed310>
          │        │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1082fb730>>
          │        └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          └ <starlette.responses.Response object at 0x108333c70>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/responses.py", line 171, in __call__
    await send({"type": "http.response.body", "body": self.body})
          │                                           │    └ b'image bytes data'
          │                                           └ <starlette.responses.Response object at 0x108333c70>
          └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x1082ed310>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 159, in _send
    await send(message)
          │    └ {'type': 'http.response.body', 'body': b'image bytes data'}
          └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1082fb730>>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 538, in send
    output = self.conn.send(event)
             │    │    │    └ EndOfMessage(headers=<Headers([])>)
             │    │    └ <function Connection.send at 0x108283160>
             │    └ <h11._connection.Connection object at 0x1082eba90>
             └ <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x1082fb730>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/h11/_connection.py", line 512, in send
    data_list = self.send_with_data_passthrough(event)
                │    │                          └ EndOfMessage(headers=<Headers([])>)
                │    └ <function Connection.send_with_data_passthrough at 0x1082831f0>
                └ <h11._connection.Connection object at 0x1082eba90>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/h11/_connection.py", line 545, in send_with_data_passthrough
    writer(event, data_list.append)
    │      │      │         └ <method 'append' of 'list' objects>
    │      │      └ []
    │      └ EndOfMessage(headers=<Headers([])>)
    └ <h11._writers.ContentLengthWriter object at 0x108333190>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/h11/_writers.py", line 67, in __call__
    self.send_eom(event.headers, write)
    │    │        │     │        └ <built-in method append of list object at 0x108340b40>
    │    │        │     └ <member 'headers' of 'EndOfMessage' objects>
    │    │        └ EndOfMessage(headers=<Headers([])>)
    │    └ <function ContentLengthWriter.send_eom at 0x1082ae550>
    └ <h11._writers.ContentLengthWriter object at 0x108333190>
  File "/Users/jiheechoi/Desktop/FastAPI_SQL/planner/myvenv/lib/python3.9/site-packages/h11/_writers.py", line 96, in send_eom
    raise LocalProtocolError("Too little data for declared Content-Length")
          └ <class 'h11._util.LocalProtocolError'>

h11._util.LocalProtocolError: Too little data for declared Content-Length
